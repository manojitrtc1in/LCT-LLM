import java.util.Scanner;

public class 9eb034af7398f7c062d88878fdadb553_nc {
    static final long[][] ans = {
        {},
        {2},
        {4},
        {11},
        {32},
        {97},
        {295},
        {940},
        {3148},
        {10901},
        {38324},
        {135313},
        {478989},
        {1704939},
        {6120951},
        {22187311},
        {81129556},
        {298715961},
        {1105546606},
        {4107686743L, 2426959363L},
        {1411039897L, 13},
        {4172194186L, 49},
        {3689174689L, 187},
        {43344991L, 708},
        {2441471173L, 2674},
        {2801489501L, 10124},
        {260107736L, 38400},
        {2954951606L, 145893},
        {606296452L, 555183},
        {1899297838L, 2115855},
        {3084773566L, 8075123},
        {234294028L, 30859921},
        {691111333L, 118085088},
        {2180959654L, 452401618},
        {1792754283L, 1735233324},
        {2132034018L, 2368089356, 1},
        {1709961728L, 4137532123L, 5},
        {177031067L, 4063007484L, 22},
        {994451568L, 1625053238L, 88},
        {3917739273L, 3065624025L, 340},
        {1540443642L, 2939324613L, 1314},
        {2048043699L, 924465791L, 5077},
        {1535675300L, 4143681610L, 19623},
        {1508306498L, 2169966175L, 75908},
        {3628011891L, 3750388408L, 293847},
        {690756141L, 2273958850L, 1138333},
        {3186013409L, 1633929753L, 4412841},
        {3713415519L, 2737515922L, 17118132},
        {1580819397L, 2755090312L, 66446442},
        {3380663546L, 3219914187L, 258079131},
        {4204882545L, 2751845304L, 1002972229},
        {2671126449L, 3985320580L, 3900042842},
        {1549923635L, 2321666527L, 2288550180, 3},
        {3206088422L, 3837458666L, 3229658027L, 13},
        {468076678L, 684189096L, 2394878431L, 53},
        {317846743L, 2409125435L, 2929850439L, 208},
        {2292706160L, 2431336997L, 2081275227L, 813},
        {3980228298L, 3870290811L, 2271141075L, 3172},
        {2281921514L, 2428712631L, 3857202388L, 12377},
        {1410084376L, 2665199272L, 1218646022L, 48313},
        {1725477252L, 938399815L, 2490820090L, 188650},
        {96934866L, 3021873877L, 4292106543L, 736911},
        {3976807065L, 4196403427L, 2309669478L, 2879607},
        {381043316L, 3742984064L, 581598293L, 11256562},
        {75998957L, 558211513L, 3386244876L, 44017760},
        {2481446098L, 3420110131L, 878568493L, 172184876},
        {2998084519L, 2760121094L, 3693315328L, 673755597},
        {1152419028L, 2385275115L, 2073185204L, 2637216508},
        {2854085154L, 4023337502L, 2033791001L, 1735803802, 2},
        {923550706L, 4030810318L, 3175452562L, 1786539181, 9},
        {971375603L, 1399426681L, 1063836258L, 3816608870, 36},
        {2026326245L, 317960303L, 107930394L, 2395208751L, 144},
        {3032216567L, 1211669851L, 2768624282L, 2750243364L, 566},
        {962635926L, 2853748285L, 932538563L, 3069568420L, 2221},
        {929452190L, 980373970L, 1397224474L, 1107065389L, 8713},
        {3844112081L, 2178623972L, 365972575L, 3179860998L, 34180},
        {2309493692L, 3520537616L, 437394707L, 1605782278L, 134118},
        {2212877625L, 2922712134L, 95698419L, 3521874850L, 526378},
        {3552645532L, 3742906242L, 3849668270L, 299359034, 2066376},
        {1938082639L, 329182225L, 3901861703L, 3461124247L, 8113696},
        {1135006092L, 3990987912L, 565559913L, 3870994863L, 31865765},
        {3496777998L, 2726710279L, 3456622192L, 1473857377L, 125176826},
        {726284190L, 554922189L, 1177992859L, 2941984575L, 491830434},
        {1174922238L, 3146728744L, 935205998L, 249307383L, 1932843670},
        {1927883506L, 2548886969L, 3104826080L, 2071924719L, 3302449968, 1},
        {552744259L, 966302059L, 593280121L, 3357489715L, 4099236778, 6},
        {4057737811L, 3172120154L, 3385034438L, 3377497541L, 1487985982, 27},
        {1120930094L, 52594514L, 1676802786L, 854221959L, 2375555749L, 107},
        {1038179455L, 2469373338L, 1067790354L, 815292734L, 357146485, 423},
        {3401792308L, 639953706L, 455471950L, 2389477057L, 2540495932, 1664},
        {814342077L, 1190616845L, 1267241187L, 3067979529L, 1675977447, 6550},
        {2621993594L, 2832313139L, 1127278177L, 3805827021L, 746798329, 25781},
        {1714067937L, 4219985196L, 3969544797L, 136803453, 2317603907, 101487},
        {4152787624L, 3611142829L, 843196231L, 3916033443L, 3079218285L, 399572},
        {3461864546L, 3893743275L, 2900292828L, 1608204305L, 1869768837, 1573441},
        {3003514123L, 3308980254L, 3534417324L, 1621178584L, 481241785, 6196916},
        {2679664471L, 1996930534L, 318652848L, 2268304523L, 3541589603L, 24410101},
        {185152026L, 3138914840L, 1871119221L, 1559019881L, 2206013312L, 96168136},
        {3737829797L, 1320722003L, 1895671615L, 3178554427L, 3061812461L, 378930161},
        {203925008L, 3794021407L, 2579620510L, 3431217976L, 3019797624L, 1493317916},
        {2468134907L, 3475974877L, 3086405423L, 1142109993L, 4005905823L, 1590884110, 1},
        {180449137L, 547269777L, 665325677L, 2842676501L, 2144395769L, 1727357320, 5},
        {1617684553L, 878842739L, 3960341086L, 1281770673L, 1738535346L, 1282366575, 21},
        {123339094L, 1072406502L, 1883229773L, 1124342891L, 720266287L, 4222745088, 83},
        {3205877069L, 1493036374L, 4168832930L, 361101124L, 1207377007L, 869413080, 331},
        {30245458L, 166380545L, 1871598255L, 2461437325L, 1132735956L, 1418272557, 1306},
        {4075272123L, 2038959813L, 655609662L, 3492982470L, 3995427741L, 486078374, 5153},
        {608326718L, 1107150586L, 1686622377L, 947478086L, 1489690413L, 1051457018, 20330},
        {4136754916L, 2162103160L, 1723971343L, 3979622104L, 220587964L, 3441819447, 80217},
        {2175296377L, 2687555805L, 2858485317L, 2068680116L, 2714338065L, 3815351148, 316557},
        {941177009L, 2263937754L, 4286501999L, 592569842L, 2476199853L, 2077265316, 1249363},
        {72166211L, 744371576L, 1452653805L, 2742004280L, 2576941298L, 3652970668, 4931474},
        {3013494591L, 2372455071L, 534269120L, 1360461613L, 3759274278L, 3238915720, 19467772},
        {508737026L, 2615515531L, 1184239988L, 3149494987L, 3669012804L, 3205495324, 76861038},
        {4046190885L, 1049147236L, 347431385L, 615864993L, 3013055269L, 783975557, 303491052},
        {895896758L, 1263297489L, 2129431640L, 4200962499L, 4253682392L, 2227802501, 1198489786},
        {862593958L, 4076271219L, 471546334L, 831422713L, 3429802533L, 2758946637, 438405932, 1},
        {1558843359L, 3239232053L, 4200145856L, 1332916817L, 3018622542L, 3909986823L, 1516372374, 4},
        {3604235363L, 2959047772L, 1884763672L, 3716891921L, 127819947L, 2316365163L, 841289782, 17},
        {2148016453L, 2600462985L, 3400301264L, 3261250221L, 3339364795L, 3609467668L, 4019991120, 67},
        {2057336361L, 3281406422L, 2001356007L, 305233474L, 2662253073L, 3418788389L, 1817744880, 268},
        {1281508345L, 928813361L, 2816581598L, 2007723331L, 2740688108L, 4273224708L, 2920853098, 1060},
        {3426260777L, 1763297880L, 1175966776L, 3062570720L, 731743090L, 2726359719L, 3082793264, 4191},
        {3210960410L, 3752915728L, 459191299L, 128440564L, 2984187704L, 97991247L, 4030488828, 16566},
        {224166267L, 2234372978L, 753139562L, 3865891512L, 1486162002L, 1307841019L, 3762849709, 65483},
        {260505741L, 545447754L, 3027390222L, 3521038051L, 2886878098L, 3868240693L, 2774668015, 258861},
        {3445525626L, 4221229308L, 1386534263L, 2297987493L, 4173116713L, 4207227667L, 4141018726, 1023390},
        {4142247892L, 2446668656L, 2319675620L, 965790995L, 3309615310L, 2135638134L, 1728304023, 4046274},
        {2796886765L, 2836129926L, 4105771002L, 1871082482L, 3736667518L, 147213948L, 2633468854, 15999570},
        {445505098L, 42453983L, 2107373830L, 2161264577L, 3236071391L, 3845846548L, 2434224601, 63270306},
        {3838187199L, 490614644L, 3657555088L, 4103603341L, 1344831810L, 990431249L, 3994847387, 250224339},
        {1047857076L, 2176168119L, 682300933L, 1335570400L, 3705580851L, 2101545607L, 4139870456L, 989684043},
        {3026384570L, 2242942353L, 2616680991L, 3487926651L, 3956283706L, 1869088125L, 2484171217L, 3914717263},
        {1071498200L, 3773154979L, 1706585509L, 742961663L, 3077446206L, 215191244L, 2514290529L, 2601141681, 3},
        {2872507125L, 1304608611L, 2805013961L, 3835527537L, 489570676L, 3914819730L, 1656827998L, 1135993546, 14},
        {3155154964L, 780193390L, 2193623906L, 1209128819L, 1418105045L, 725432432L, 3669496663L, 1878768769, 56},
        {253659020L, 3880096607L, 144011870L, 1507161628L, 1464179160L, 2378916704L, 1158684783L, 1341570611, 223},
        {2212582435L, 445734981L, 3630891622L, 2426151389L, 3122490297L, 2334190077L, 1744231515L, 2896978552, 883},
        {2142647548L, 3600176835L, 2830071678L, 2961075988L, 1714835724L, 2925612276L, 3820302557L, 339695552, 3497},
        {4294886677L, 3361034647L, 906607836L, 1269791512L, 1220171111L, 1544351226L, 1002394444L, 2129097500, 13840},
        {501822294L, 1725262855L, 3183461603L, 2954658854L, 2164388124L, 640674278L, 3687166976L, 244870596, 54781},
        {810510306L, 323305484L, 3430675847L, 1333959229L, 3023582709L, 4122725661L, 4162215479L, 3998267249L, 216840},
        {2066497053L, 2791669159L, 1066700710L, 2401391628L, 2204319308L, 382832680L, 452636133L, 892117603, 858388},
        {795280433L, 3187355406L, 2545609941L, 3296708892L, 338474730L, 3457915698L, 49592690L, 624245225, 3398266},
        {1581357444L, 3332957275L, 3991329316L, 1823248956L, 3664649114L, 3049475936L, 1436313055L, 108314556, 13454320},
        {2890310043L, 2645865047L, 96602101L, 1985398087L, 2830455143L, 2769232370L, 3231689536L, 3016839684, 53271680},
        {3673691692L, 78846736L, 745302479L, 838402949L, 1165410335L, 1692653857L, 3976907779L, 1367965842, 210940949},
        {295563602L, 975450609L, 3170861384L, 1205290655L, 658762743L, 4047422421L, 2054553L, 2367895997, 835323744},
        {2508957223L, 2683160723L, 401608967L, 3574638073L, 2537772230L, 3214369508L, 3288302812L, 4058536503L, 3308093533},
        {3776557089L, 1460840502L, 3147310815L, 2456004160L, 3562408518L, 3775964939L, 3388939830L, 427668466, 216849571, 3},
        {3728035062L, 1926856823L, 1177012130L, 3575198692L, 2209903221L, 113586407L, 3333408737L, 3712521410L, 353438384, 12},
        {2607331913L, 4283270230L, 3600202517L, 876899479L, 1796104827L, 817161666L, 294106662L, 2136843986L, 3686222256, 47},
        {3314615494L, 2761020062L, 2280369741L, 3898619731L, 3911823627L, 1182841733L, 921495705L, 1987759554L, 2490255816, 189},
        {2590245496L, 3473058917L, 1492013628L, 624914759L, 3628302063L, 1440754051L, 3417778275L, 1003682760L, 106726210, 751},
        {2633783210L, 2706506985L, 3094738545L, 828125704L, 2671377987L, 626840589L, 3752738738L, 3900703516L, 1656794022, 2975},
        {28448344L, 2669463898L, 1385628852L, 1136650614L, 2118617121L, 813824129L, 3389598254L, 193974302L, 2158698592, 11788},
        {759262343L, 302349887L, 3002808773L, 3528037846L, 3942292190L, 2970558354L, 2489204802L, 2262249038L, 4058358874, 46708},
        {3335417267L, 309921878L, 334820301L, 2461381894L, 3006674440L, 3130341194L, 1757099604L, 976305824L, 1192497803, 185083},
        {1960107932L, 45317162L, 829795120L, 2938679609L, 1321490743L, 813033324L, 901851337L, 2388825974L, 3085146788, 733431},
        {806769803L, 4249618887L, 2322214279L, 268106502L, 2400608845L, 3705101671L, 1006868560L, 1555518405L, 1473524019, 2906546},
        {3016024504L, 2109541762L, 302478533L, 3002549037L, 3359936194L, 4230216640L, 1792321929L, 1405771399L, 3338048212, 11519126},
        {405528202L, 3152747679L, 1869032290L, 1022171990L, 2330178010L, 2440852913L, 3340825247L, 2702598955L, 1813170149, 45654784},
        {392072299L, 1470040061L, 1345165237L, 334840075L, 4161634659L, 3723030012L, 396217175L, 2217547197L, 4143434417, 180957739},
        {1432108212L, 1114744425L, 1018959253L, 2618969148L, 4172016277L, 4104617249L, 229313722L, 1461796977L, 1676488993, 717285187},
        {3917524871L, 829882129L, 3501994447L, 4017135301L, 3074069020L, 2694309690L, 2684793248L, 2587840425L, 3290780412, 2843348555},
        {1944206482L, 1442962768L, 2769991002L, 137897471L, 3987464733L, 1155485997L, 2536824880L, 2998553209L, 2648147189L, 2681821845, 2},
        {3344805947L, 411892603L, 4126656246L, 2211517675L, 2444913124L, 957967558L, 1038021382L, 4082245269L, 1767355398L, 1736798769, 10},
        {3802521073L, 3267053531L, 1313646101L, 2324872666L, 878940337L, 3215631351L, 2931920803L, 4200923446L, 324319828L, 1073506513, 41},
        {2654567614L, 1568808025L, 1803729542L, 2143384822L, 1658736425L, 192485054L, 1968155916L, 2580905691L, 2996803246L, 2366165782, 163},
        {2560754697L, 2732109758L, 2650989258L, 3065464363L, 1119140648L, 1320459588L, 2818622314L, 274089733L, 1416601562L, 2113969709, 648},
        {1429470319L, 2031880934L, 3023721394L, 1497346884L, 3095305271L, 698965458L, 2481352053L, 4125722246L, 3087616259L, 1941794290, 2571},
        {1184856486L, 1823601604L, 2177114912L, 1188216408L, 321207596L, 4169904552L, 1298722721L, 2792835748L, 1750494046L, 137661912, 10197},
        {593626344L, 3685718606L, 932835303L, 4281953533L, 3355177948L, 15176347L, 4132811439L, 1667095290L, 2027158372L, 348096588, 40438},
        {2762201132L, 270311472L, 1739761745L, 3323556446L, 1688792644L, 4252294308L, 98283754L, 45888612L, 1013106595L, 4157530014, 160371},
        {3538598781L, 1630328471L, 2324233659L, 2623719054L, 3542209653L, 833501619L, 3225441426L, 2426749849L, 342949796L, 919573965, 636044},
        {618700117L, 1847361613L, 2568402629L, 3402135662L, 4069406530L, 3440726719L, 1961879249L, 1816107549L, 1163097643L, 861392142, 2522707},
        {2616807824L, 290482935L, 4008503304L, 2827388725L, 3398823662L, 41448142L, 888703054L, 2313506850L, 1710980580L, 1436672924, 10006146},
        {905330484L, 1850737061L, 1755710640L, 293093431L, 2890512416L, 1845155700L, 4293226377L, 1367354510L, 759724617L, 2153923292, 39690547},
        {2000560120L, 887237321L, 1040273567L, 1259018161L, 97219236L, 4276904417L, 1725515412L, 2870030510L, 2879450930L, 3189702845, 157444445},
        {863642990L, 954603462L, 536622170L, 3252710478L, 3940502922L, 1729125146L, 1554480730L, 1290181440L, 1973587814L, 248555840, 624579026},
        {1697327337L, 2918819084L, 150398406L, 3763881191L, 2636440703L, 4265356736L, 2157835805L, 1468367803L, 3848765537L, 59446342, 2477804464},
        {2446323117L, 1333533671L, 2168747137L, 2854032017L, 3081391650L, 4183505187L, 3650047026L, 188779407L, 526016429L, 2761793340, 1240348821, 2},
        {1300231750L, 3902915121L, 1981986679L, 3427190560L, 3237911263L, 3291691015L, 562702363L, 3149480449L, 2579229057L, 19020837, 347055068, 9},
        {3657932198L, 488720328L, 1446344547L, 3834564368L, 1480352990L, 2827046885L, 2880609475L, 697749222L, 2257195171L, 3354404202, 127861599, 36},
        {3397923977L, 2798002524L, 301001927L, 2304309288L, 1687826763L, 2483601671L, 1779363633L, 1352057091L, 713809587L, 2696685452L, 4127204450, 142},
        {4028816566L, 2408052650L, 1213680384L, 4256359194L, 3002614222L, 1364230970L, 783390155L, 4126636361L, 832523803L, 2282722679L, 1171138251, 567},
        {1736176841L, 397389969L, 1228600389L, 1516725449L, 2895163479L, 2150566846L, 2811167753L, 294595860L, 3564441822L, 1721701828L, 205228753, 2251},
        {2429761274L, 984698965L, 4108659942L, 1199674335L, 293635739L, 625424232L, 948286406L, 3972991993L, 1611407721L, 1500862, 4154934097, 8932},
        {3222210919L, 690114320L, 50448257L, 2804373465L, 1017961958L, 2039183893L, 489159216L, 1151280382L, 158773765L, 2768634720L, 2995763167, 35450},
        {375716695L, 3859193991L, 896415991L, 2993529817L, 3509832398L, 1871422233L, 1586062355L, 668318591L, 3165286699L, 495636988, 3108898623, 140692},
        {3085768643L, 3180394296L, 2124249810L, 1205857906L, 3158086867L, 3386222583L, 3793549621L, 3819173062L, 3911540842L, 1904718767L, 287398360, 558388},
        {3435903375L, 4291098692L, 493489606L, 406838170L, 2190529579L, 2074994943L, 759798382L, 4196166923L, 3215154043L, 3785784988L, 2520590895, 2216246},
        {3359148995L, 1436143251L, 1921872544L, 3037272504L, 3281484062L, 2051801502L, 1168216991L, 762202114L, 1408033153L, 2299479341L, 378749039, 8796650},
        {2192988308L, 3067744296L, 1930751395L, 548234159L, 829700582L, 3436686196L, 2247851925L, 784563272L, 3717975929L, 908149877L, 1580872919, 34916738},
        {3007043623L, 975843659L, 2616296461L, 3737306179L, 3684324109L, 3267538666L, 421308555L, 1472776780L, 1635862811L, 1071292237L, 1068791155, 138601192},
        {2821316210L, 1748725430L, 2412011903L, 2527125975L, 948281510L, 391305600L, 772588344L, 3276862062L, 1944460202L, 2748703689L, 856637215, 550195511},
        {4052977779L, 3163937748L, 3036712795L, 1138645612L, 501033727L, 4264799249L, 1380676331L, 3187355932L, 1832139079L, 645165555L, 1337462030, 2184156409},
        {4201727360L, 2754890041L, 1042005963L, 1322883592L, 245155897L, 3538921510L, 886161692L, 1902765029L, 2170171535L, 1392634951L, 192228728L, 81019411, 2},
        {1199257909L, 273544693L, 1994261149L, 3010295901L, 1839507415L, 77097517L, 1408801718L, 459303161L, 1544392329L, 3025296585L, 2726440504L, 64657343, 8},
        {2102743037L, 2393063500L, 876912794L, 2198839926L, 3912872240L, 4095736174L, 2637471038L, 2384888107L, 503769424L, 4041934301L, 2348599738L, 3528755911, 31}
    };

    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int n = scanner.nextInt();
        int M = scanner.nextInt();
        long v = 0;

        for (int j = 12; j >= 0; j--) {
            v = (v << 32) | ans[n][j];
            v %= M;
        }
        System.out.println(v);
    }
}
