import java.util.Scanner;

public class 47f3d4f97ae7b056a08b3682202544c7_nc {
    static final long[][] ans = {
        {},
        {2},
        {4},
        {11},
        {32},
        {97},
        {295},
        {940},
        {3148},
        {10901},
        {38324},
        {135313},
        {478989},
        {1704939},
        {6120951},
        {22187311},
        {81129556},
        {298715961},
        {1105546606},
        {4107686743L, 2426959363L},
        {1411039897L, 13},
        {4172194186L, 49},
        {3689174689L, 187},
        {43344991, 708},
        {2441471173L, 2674},
        {2801489501L, 10124},
        {260107736, 38400},
        {2954951606L, 145893},
        {606296452, 555183},
        {1899297838L, 2115855},
        {3084773566L, 8075123},
        {234294028, 30859921},
        {691111333, 118085088},
        {2180959654L, 452401618},
        {1792754283L, 1735233324},
        {2132034018L, 2368089356, 1},
        {1709961728L, 4137532123L, 5},
        {177031067, 4063007484L, 22},
        {994451568, 1625053238L, 88},
        {3917739273L, 3065624025L, 340},
        {1540443642L, 2939324613L, 1314},
        {2048043699L, 924465791, 5077},
        {1535675300L, 4143681610L, 19623},
        {1508306498L, 2169966175L, 75908},
        {3628011891L, 3750388408L, 293847},
        {690756141, 2273958850L, 1138333},
        {3186013409L, 1633929753L, 4412841},
        {3713415519L, 2737515922L, 17118132},
        {1580819397L, 2755090312L, 66446442},
        {3380663546L, 3219914187L, 258079131},
        {4204882545L, 2751845304L, 1002972229},
        {2671126449L, 3985320580L, 3900042842},
        {1549923635L, 2321666527L, 2288550180, 3},
        {3206088422L, 3837458666L, 3229658027L, 13},
        {468076678, 684189096, 2394878431L, 53},
        {317846743, 2409125435L, 2929850439L, 208},
        {2292706160L, 2431336997L, 2081275227L, 813},
        {3980228298L, 3870290811L, 2271141075L, 3172},
        {2281921514L, 2428712631L, 3857202388L, 12377},
        {1410084376L, 2665199272L, 1218646022L, 48313},
        {1725477252L, 938399815, 2490820090L, 188650},
        {96934866, 3021873877L, 4292106543L, 736911},
        {3976807065L, 4196403427L, 2309669478L, 2879607},
        {381043316, 3742984064L, 581598293, 11256562},
        {75998957, 558211513, 3386244876L, 44017760},
        {2481446098L, 3420110131L, 878568493, 172184876},
        {2998084519L, 2760121094L, 3693315328L, 673755597},
        {1152419028L, 2385275115L, 2073185204L, 2637216508},
        {2854085154L, 4023337502L, 2033791001L, 1735803802, 2},
        {923550706, 4030810318L, 3175452562L, 1786539181, 9},
        {971375603, 1399426681, 1063836258, 3816608870, 36},
        {2026326245L, 317960303, 107930394, 2395208751, 144},
        {3032216567L, 1211669851, 2768624282L, 2750243364, 566},
        {962635926, 2853748285L, 932538563, 3069568420L, 2221},
        {929452190, 980373970, 1397224474, 1107065389, 8713},
        {3844112081L, 2178623972L, 365972575, 3179860998L, 34180},
        {2309493692L, 3520537616L, 437394707, 1605782278, 134118},
        {2212877625L, 2922712134L, 95698419, 3521874850L, 526378},
        {3552645532L, 3742906242L, 3849668270L, 299359034, 2066376},
        {1938082639, 329182225, 3901861703L, 3461124247L, 8113696},
        {1135006092, 3990987912L, 565559913, 3870994863L, 31865765},
        {3496777998L, 2726710279L, 3456622192L, 1473857377, 125176826},
        {726284190, 554922189, 1177992859, 2941984575L, 491830434},
        {1174922238, 3146728744L, 935205998, 249307383, 1932843670},
        {1927883506, 2548886969L, 3104826080L, 2071924719L, 3302449968, 1},
        {552744259, 966302059, 593280121, 3357489715L, 4099236778L, 6},
        {4057737811L, 3172120154L, 3385034438L, 3377497541L, 1487985982, 27},
        {1120930094, 52594514, 1676802786, 854221959, 2375555749, 107},
        {1038179455, 2469373338L, 1067790354, 815292734, 357146485, 423},
        {3401792308L, 639953706, 455471950, 2389477057L, 2540495932L, 1664},
        {814342077, 1190616845, 1267241187, 3067979529L, 1675977447, 6550},
        {2621993594L, 2832313139L, 1127278177, 3805827021L, 746798329, 25781},
        {1714067937, 4219985196L, 3969544797L, 136803453, 2317603907, 101487},
        {4152787624L, 3611142829L, 843196231, 3916033443L, 3079218285L, 399572},
        {3461864546L, 3893743275L, 2900292828L, 1608204305L, 1869768837, 1573441},
        {3003514123L, 3308980254L, 3534417324L, 1621178584, 481241785, 6196916},
        {2679664471L, 1996930534L, 318652848, 2268304523L, 3541589603L, 24410101},
        {185152026, 3138914840L, 1871119221, 1559019881, 2206013312L, 96168136},
        {3737829797L, 1320722003, 1895671615, 3178554427L, 3061812461L, 378930161},
        {203925008, 3794021407L, 2579620510L, 3431217976L, 3019797624L, 1493317916},
        {2468134907L, 3475974877L, 3086405423L, 1142109993, 4005905823L, 1590884110, 1},
        {180449137, 547269777, 665325677, 2842676501L, 2144395769L, 1727357320, 5},
        {1617684553, 878842739, 3960341086L, 1281770673, 1738535346L, 1282366575, 21},
        {123339094, 1072406502, 1883229773, 1124342891, 720266287, 4222745088, 83},
        {3205877069L, 1493036374, 4168832930L, 361101124, 1207377007, 869413080, 331},
        {30245458, 166380545, 1871598255, 2461437325, 1132735956, 1418272557, 1306},
        {4075272123L, 2038959813, 655609662, 3492982470L, 3995427741L, 486078374, 5153},
        {608326718, 1107150586, 1686622377, 947478086, 1489690413, 1051457018, 20330},
        {4136754916L, 2162103160L, 1723971343, 3979622104L, 220587964, 3441819447, 80217},
        {2175296377L, 2687555805L, 2858485317L, 2068680116, 2714338065L, 3815351148, 316557},
        {941177009, 2263937754L, 4286501999L, 592569842, 2476199853L, 2077265316, 1249363},
        {72166211, 744371576, 1452653805, 2742004280L, 2576941298L, 3652970668, 4931474},
        {3013494591L, 2372455071L, 534269120, 1360461613, 3759274278L, 3238915720L, 19467772},
        {508737026, 2615515531L, 1184239988, 3149494987L, 3669012804L, 3205495324L, 76861038},
        {4046190885L, 1049147236, 347431385, 615864993, 3013055269L, 783975557, 303491052},
        {895896758, 1263297489, 2129431640, 4200962499L, 4253682392L, 2227802501L, 1198489786},
        {862593958, 4076271219L, 471546334, 831422713, 3429802533L, 2758946637L, 438405932, 1},
        {1558843359, 3239232053L, 4200145856L, 1332916817, 3018622542L, 3909986823L, 1516372374, 4},
        {3604235363L, 2959047772L, 1884763672, 3716891921L, 127819947, 2316365163L, 841289782, 17},
        {2148016453L, 2600462985L, 3400301264L, 3261250221L, 3339364795L, 3609467668L, 4019991120L, 67},
        {2057336361L, 3281406422L, 2001356007, 305233474, 2662253073L, 3418788389L, 1817744880, 268},
        {1281508345, 928813361, 2816581598L, 2007723331, 2740688108L, 4273224708L, 2920853098L, 1060},
        {3426260777L, 1763297880, 1175966776, 3062570720, 731743090, 2726359719L, 3082793264L, 4191},
        {3210960410L, 3752915728L, 459191299, 128440564, 2984187704L, 97991247, 4030488828L, 16566},
        {224166267, 2234372978L, 753139562, 3865891512L, 1486162002, 1307841019L, 3762849709L, 65483},
        {260505741, 545447754, 3027390222L, 3521038051L, 2886878098L, 3868240693L, 2774668015L, 258861},
        {3445525626L, 4221229308L, 1386534263, 2297987493L, 4173116713L, 4207227667L, 4141018726L, 1023390},
        {4142247892L, 2446668656L, 2319675620, 965790995, 3309615310L, 2135638134L, 1728304023L, 4046274},
        {2796886765L, 2836129926L, 4105771002L, 1871082482, 3736667518L, 147213948, 2633468854L, 15999570},
        {445505098, 42453983, 2107373830, 2161264577L, 3236071391L, 3845846548L, 2434224601L, 63270306},
        {3838187199L, 490614644, 3657555088L, 4103603341L, 1344831810, 990431249, 3994847387L, 250224339},
        {1047857076, 2176168119, 682300933, 1335570400, 3705580851L, 2101545607, 4139870456L, 989684043},
        {3026384570L, 2242942353, 2616680991, 3487926651L, 3956283706L, 1869088125, 2484171217L, 3914717263},
        {1071498200, 3773154979L, 1706585509, 742961663, 3077446206, 215191244, 2514290529L, 2601141681, 3},
        {2872507125L, 1304608611, 2805013961, 3835527537, 489570676, 3914819730L, 1656827998, 1135993546, 14},
        {3155154964L, 780193390, 2193623906, 1209128819, 1418105045, 725432432, 3669496663L, 1878768769, 56},
        {253659020, 3880096607L, 144011870, 1507161628, 1464179160, 2378916704, 1158684783, 1341570611, 223},
        {2212582435L, 445734981, 3630891622L, 2426151389L, 3122490297L, 2334190077L, 1744231515L, 2896978552, 883},
        {2142647548L, 3600176835L, 2830071678L, 2961075988L, 1714835724, 2925612276L, 3820302557L, 339695552, 3497},
        {4294886677L, 3361034647L, 906607836, 1269791512, 1220171111, 1544351226, 1002394444, 2129097500, 13840},
        {501822294, 1725262855, 3183461603L, 2954658854L, 2164388124, 640674278, 3687166976L, 244870596, 54781},
        {810510306, 323305484, 3430675847L, 1333959229, 3023582709L, 4122725661L, 4162215479L, 3998267249L, 216840},
        {2066497053L, 2791669159L, 1066700710, 2401391628, 2204319308, 382832680, 452636133, 892117603, 858388},
        {795280433, 3187355406L, 2545609941, 3296708892, 338474730, 3457915698L, 49592690, 624245225, 3398266},
        {1581357444, 3332957275L, 3991329316L, 1823248956, 3664649114L, 3049475936, 1436313055, 108314556, 13454320},
        {2890310043L, 2645865047, 96602101, 1985398087, 2830455143L, 2769232370, 3231689536, 3016839684, 53271680},
        {3673691692L, 78846736, 745302479, 838402949, 1165410335, 1692653857, 3976907779L, 1367965842, 210940949},
        {295563602, 975450609, 3170861384, 1205290655, 658762743, 4047422421L, 2054553, 2367895997, 835323744},
        {2508957223L, 2683160723L, 401608967, 3574638073L, 2537772230L, 3214369508L, 3288302812L, 4058536503L, 3308093533},
        {3776557089L, 1460840502, 3147310815, 2456004160, 3562408518L, 3775964939L, 3388939830L, 427668466, 216849571, 3},
        {3728035062L, 1926856823, 1177012130, 3575198692L, 2209903221, 113586407, 3333408737L, 3712521410, 353438384, 12},
        {2607331913L, 4283270230L, 3600202517, 876899479, 1796104827, 817161666, 294106662, 2136843986, 3686222256, 47},
        {3314615494L, 2761020062L, 2280369741, 3898619731, 3911823627, 1182841733, 921495705, 1987759554, 2490255816, 189},
        {2590245496L, 3473058917L, 1492013628, 624914759, 3628302063L, 1440754051, 3417778275L, 1003682760, 106726210, 751},
        {2633783210L, 2706506985L, 3094738545L, 828125704, 2671377987, 626840589, 3752738738L, 3900703516L, 1656794022, 2975},
        {28448344, 2669463898L, 1385628852, 1136650614, 2118617121, 813824129, 3389598254L, 193974302, 2158698592, 11788},
        {759262343, 302349887, 3002808773L, 3528037846L, 3942292190L, 2970558354L, 2489204802L, 2262249038, 4058358874, 46708},
        {3335417267L, 309921878, 334820301, 2461381894L, 3006674440L, 3130341194L, 1757099604, 976305824, 1192497803, 185083},
        {1960107932, 45317162, 829795120, 2938679609, 1321490743, 813033324, 901851337, 2388825974, 3085146788, 733431},
        {806769803, 4249618887L, 2322214279, 268106502, 2400608845, 3705101671, 1006868560, 1555518405, 1473524019, 2906546},
        {3016024504L, 2109541762, 302478533, 3002549037L, 3359936194L, 4230216640L, 1792321929, 1405771399, 3338048212, 11519126},
        {405528202, 3152747679L, 1869032290, 1022171990, 2330178010, 2440852913L, 3340825247L, 2702598955L, 1813170149, 45654784},
        {392072299, 1470040061, 1345165237, 334840075, 4161634659L, 3723030012, 396217175, 2217547197, 4143434417, 180957739},
        {1432108212, 1114744425, 1018959253, 2618969148, 4172016277L, 4104617249L, 229313722, 1461796977, 1676488993, 717285187},
        {3917524871L, 829882129, 3501994447L, 4017135301L, 3074069020, 2694309690, 2684793248L, 2587840425, 3290780412, 2843348555},
        {1944206482, 1442962768, 2769991002, 137897471, 3987464733L, 1155485997, 2536824880, 2998553209, 2648147189, 2681821845, 2},
        {3344805947L, 411892603, 4126656246L, 2211517675, 2444913124, 957967558, 1038021382, 4082245269L, 1767355398, 1736798769, 10},
        {3802521073L, 3267053531L, 1313646101, 2324872666, 878940337, 3215631351L, 2931920803L, 4200923446L, 324319828, 1073506513, 41},
        {2654567614L, 1568808025, 1803729542, 2143384822, 1658736425, 192485054, 1968155916, 2580905691, 2996803246, 2366165782, 163},
        {2560754697L, 2732109758L, 2650989258, 3065464363L, 1119140648, 1320459588, 2818622314, 274089733, 1416601562, 2113969709, 648},
        {1429470319, 2031880934, 3023721394, 1497346884, 3095305271, 698965458, 2481352053, 4125722246L, 3087616259, 1941794290, 2571},
        {1184856486, 1823601604, 2177114912, 1188216408, 321207596, 4169904552L, 1298722721, 2792835748, 1750494046, 137661912, 10197},
        {593626344, 3685718606L, 932835303, 4281953533L, 3355177948L, 15176347, 4132811439L, 1667095290, 2027158372, 348096588, 40438},
        {2762201132L, 270311472, 1739761745, 3323556446L, 1688792644, 4252294308L, 98283754, 45888612, 1013106595, 4157530014, 160371},
        {3538598781L, 1630328471, 2324233659, 2623719054, 3542209653L, 833501619, 3225441426L, 2426749849, 342949796, 919573965, 636044},
        {618700117, 1847361613, 2568402629, 3402135662, 4069406530L, 3440726719, 1961879249, 1816107549, 1163097643, 861392142, 2522707},
        {2616807824, 290482935, 4008503304, 2827388725L, 3398823662, 41448142, 888703054, 2313506850, 1710980580, 1436672924, 10006146},
        {905330484, 1850737061, 1755710640, 293093431, 2890512416, 1845155700, 4293226377, 1367354510, 759724617, 2153923292, 39690547},
        {2000560120, 887237321, 1040273567, 1259018161, 97219236, 4276904417, 1725515412, 2870030510, 2879450930, 3189702845, 157444445},
        {863642990, 954603462, 536622170, 3252710478, 3940502922, 1729125146, 1554480730, 1290181440, 1973587814, 248555840, 624579026},
        {1697327337, 2918819084, 150398406, 3763881191, 2636440703, 4265356736, 2157835805, 1468367803, 3848765537, 59446342, 2477804464},
        {2446323117L, 1333533671, 2168747137, 2854032017, 3081391650, 4183505187, 3650047026, 188779407, 526016429, 2761793340, 1240348821, 2},
        {1300231750, 3902915121, 1981986679, 3427190560, 3237911263, 3291691015, 562702363, 3149480449, 2579229057, 19020837, 347055068, 9},
        {3657932198, 488720328, 1446344547, 3834564368, 1480352990, 2827046885, 2880609475, 697749222, 2257195171, 3354404202, 127861599, 36},
        {3397923977, 2798002524, 301001927, 2304309288, 1687826763, 2483601671, 1779363633, 1352057091, 713809587, 2696685452, 4127204450, 142},
        {4028816566L, 2408052650, 1213680384, 4256359194L, 3002614222, 1364230970, 783390155, 4126636361L, 832523803, 2282722679, 1171138251, 567},
        {1736176841, 397389969, 1228600389, 1516725449, 2895163479, 2150566846, 2811167753, 294595860, 3564441822, 1721701828, 205228753, 2251},
        {2429761274, 984698965, 4108659942L, 1199674335, 293635739, 625424232, 948286406, 3972991993L, 1611407721, 1500862, 4154934097L, 8932},
        {3222210919, 690114320, 50448257, 2804373465, 1017961958, 2039183893, 489159216, 1151280382, 158773765, 2768634720, 2995763167, 35450},
        {375716695, 3859193991L, 896415991, 2993529817, 3509832398, 1871422233, 1586062355, 668318591, 3165286699, 495636988, 3108898623, 140692},
        {3085768643L, 3180394296L, 2124249810, 1205857906, 3158086867L, 3386222583L, 3793549621L, 3819173062L, 3911540842L, 1904718767, 287398360, 558388},
        {3435903375L, 4291098692L, 493489606, 406838170, 2190529579, 2074994943, 759798382, 4196166923L, 3215154043L, 3785784988L, 2520590895L, 2216246},
        {3359148995L, 1436143251, 1921872544, 3037272504, 3281484062L, 2051801502, 1168216991, 762202114, 1408033153, 2299479341, 378749039, 8796650},
        {2192988308, 3067744296L, 1930751395, 548234159, 829700582, 3436686196L, 2247851925, 784563272, 3717975929, 908149877, 1580872919, 34916738},
        {3007043623L, 975843659, 2616296461, 3737306179, 3684324109, 3267538666, 421308555, 1472776780, 1635862811, 1071292237, 1068791155, 138601192},
        {2821316210L, 1748725430, 2412011903, 2527125975, 948281510, 391305600, 772588344, 3276862062, 1944460202, 2748703689, 856637215, 550195511},
        {4052977779L, 3163937748L, 3036712795, 1138645612, 501033727, 4264799249L, 1380676331, 3187355932, 1832139079, 645165555, 1337462030, 2184156409},
        {4201727360L, 2754890041L, 1042005963, 1322883592, 245155897, 3538921510L, 886161692, 1902765029, 2170171535, 1392634951, 192228728, 81019411, 2},
        {1199257909, 273544693, 1994261149, 3010295901, 1839507415, 77097517, 1408801718, 459303161, 1544392329, 3025296585, 2726440504, 64657343, 8},
        {2102743037, 2393063500, 876912794, 2198839926, 3912872240, 4095736174, 2637471038, 2384888107, 503769424, 4041934301, 2348599738, 3528755911, 31}
    };

    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int n = scanner.nextInt();
        int M = scanner.nextInt();
        long v = 0;

        for (int j = 69; j >= 0; j--) {
            v = (v << 32) | ans[n][j];
            v %= M;
        }
        System.out.println(v);
    }
}
