

















using namespace std;








































 








































































       
















                



















       








































   








  
































































       




































































          








        






























































































































































        






            










        








void id0(int n , unordered_set <int> &ms)
{
    

    for (int i=1; i<=sqrt(n); i++)
    {
        if (n%i == 0)
        {
            

            if (n/i == i)
                ms.insert(i);
 
            else 

                ms.insert(i);
                ms.insert(n/i);

        }
    }
}
































































































































































































































 


















            



















































































        










            




































































































































































































































































































































































































































































  
  














































































































































































































































   
  





























            












        

































































































      



















































































        






 




 






 








 










 





































































 



































        


















        



























































































































   





















    
    












        

















    











































































        



















        























































        




























































        
        
        


        
        
        
        
        



























      































































































        














































               


                



































    







int main(){
    ll t;
    cin>>t;
    while(t--){
        ll n,x;
        cin>>n>>x;
        ll arr[n];
        unordered_map <ll,ll> m;
        for (ll i=0;i<n;i++){
         cin>>arr[i];
         m[arr[i]]++;
        }
        sort(arr,arr+n);
        ll c = 0;
        for (ll i=0;i<n;i++){
            
            if (m.count(arr[i])==0)continue;
          
                if (m.count(1ll*x*arr[i])){
                    m[1ll*x*arr[i]]--;
                }
                else{
                    c++;
                }
                m[arr[i]]--;
                  if (m[1ll*x*arr[i]]==0){
                    m.erase(1ll*x*arr[i]);
                }
                if (m[arr[i]]==0){
                    m.erase(arr[i]);
                }
              
            
        }
        cout<<c<<endl;

    }
    return 0;
}
