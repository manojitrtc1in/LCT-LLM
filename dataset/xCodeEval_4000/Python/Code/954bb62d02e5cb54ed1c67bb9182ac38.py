from sys import stdin
from collections import deque

mod = 10**9 + 7
import sys
import random

from queue import PriorityQueue
from collections import Counter as cc


from bisect import bisect_right
from bisect import bisect_left
from collections import defaultdict
from math import sqrt,factorial,gcd,log2,inf,ceil



import heapq

input = lambda : sys.stdin.readline().rstrip()
from sys import stdin, stdout
from heapq import heapify, heappush, heappop
from itertools import permutations
from math import factorial as f



def ncr(n, r, p):
    num = den = 1
    for i in range(r):
        num = (num * (n - i)) % p
        den = (den * (i + 1)) % p
    return (num * pow(den,
                      p - 2, p)) % p

import sys






































































































































































































































































































































































































































































































































































































































































































































t = int(input())

for _ in range(t):

    n,k = map(int,input().split())

    la = []
    for i in range(n):
        l = ['0']*(n)
        la.append(l)

    count = 0
    i,j = 0,0
    x,y = n,0
    while k!=0:

        la[i][j] = '1'
        k-=1
        i+=1
        j+=1
        if i>=n or j>=n:
            if count%2 == 0:
                y+=1
                i = 0
                j = y
            else:
                x-=1
                j = 0
                i = x

            count+=1
    la1 = []
    la2 = []
    for i in range(n):
        cnt1 = 0
        for j in range(n):
            cnt1+=int(la[i][j])
        la1.append(cnt1)
        cnt1 = 0
        for j in range(n):
            cnt1+=int(la[j][i])
        la2.append(cnt1)
    ans = 0
    la1.sort()
    la2.sort()
    ans+=(la1[0]-la1[-1])**2 + (la2[0]-la2[-1])**2





    print(ans)
    for i in la:
        print(''.join(i))




