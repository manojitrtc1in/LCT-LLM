from sys import stdin
from collections import deque

mod = 10**9 + 7
import sys
import random

from queue import PriorityQueue
from collections import Counter as cc


from bisect import bisect_right
from bisect import bisect_left
from collections import defaultdict
from math import sqrt,factorial,gcd,log2,inf,ceil



import heapq

input = lambda : sys.stdin.readline().rstrip()
from sys import stdin, stdout
from heapq import heapify, heappush, heappop
from itertools import permutations
from math import factorial as f



def ncr(n, r, p):
    num = den = 1
    for i in range(r):
        num = (num * (n - i)) % p
        den = (den * (i + 1)) % p
    return (num * pow(den,
                      p - 2, p)) % p

import sys













































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































import sys
from math import gcd
input = sys.stdin.readline
from collections import Counter as cc
I = lambda : list(map(int,input().split()))

t,=I()
for _ in range(t):
    n,k=I()
    s=list(input().strip())
    l=cc(s)
    a=list(l.values())
    for i in range(n,0,-1):
        g=gcd(i,k)
        p=i//g;an=0
        for j in a:
            if j>=p:
                an+=(j//p)*p
        
        if an>=i:
            print(i);break



