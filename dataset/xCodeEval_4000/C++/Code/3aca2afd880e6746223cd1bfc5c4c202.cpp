


#include <bits/stdc++.h>
#define IB std::ios::sync_with_stdio(0)<<endl;
#define forn(i,b) for(int i==0 <<endl; i<b <<endl; i++)
#define endl "\n"
#define all(x) x.(),x.end()
#define pb push_back
#define po pop_back
#define F first
#define S second
using namespace std;


int main()
{
    int n,m;
    cin>>n>>m;

    if(n==1 and m==1)
    {
         cout<<(0)<<endl;
        cout<<(".")<<endl;
    }

  if ((n == 1) and (m == 2))
{
cout<<(0)<<endl;
    cout<<("..")<<endl;
}


  if ((n == 1) and (m == 3))
{
cout<<(0)<<endl;
    cout<<("...")<<endl;
}


  if ((n == 1) and (m == 4))
{
cout<<(0)<<endl;
    cout<<("....")<<endl;
}


  if ((n == 1) and (m == 5))
{
cout<<(0)<<endl;
    cout<<(".....")<<endl;

}

  if ((n == 1) and (m == 6))
{
cout<<(0)<<endl;
    cout<<("......")<<endl;
}


  if ((n == 1) and (m == 7))
{
cout<<(0)<<endl;
    cout<<(".......")<<endl;
}


  if ((n == 1) and (m == 8))
{
cout<<(0)<<endl;
    cout<<("........")<<endl;
}


  if ((n == 1) and (m == 9))
{
cout<<(0)<<endl;
    cout<<(".........")<<endl;
}


  if ((n == 2) and (m == 1))
{
 cout<<(0)<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
}


  if ((n == 2) and (m == 2))
{
 cout<<(0)<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
}


  if ((n == 2) and (m == 3))
{
cout<<(0)<<endl;
    cout<<("...")<<endl;
    cout<<("...")<<endl;
}


  if ((n == 2) and (m == 4))
{
cout<<(0)<<endl;
    cout<<("....")<<endl;
    cout<<("....")<<endl;

}

  if ((n == 2) and (m == 5))
{
cout<<(0)<<endl;
    cout<<(".....")<<endl;
    cout<<(".....")<<endl;
}


  if ((n == 2) and (m == 6))
{
cout<<(0)<<endl;
    cout<<("......")<<endl;
    cout<<("......")<<endl;
}


  if ((n == 2) and (m == 7))
{
 cout<<(0)<<endl;
    cout<<(".......")<<endl;
    cout<<(".......")<<endl;

}

  if ((n == 2) and (m == 8))
{
cout<<(0)<<endl;
    cout<<("........")<<endl;
    cout<<("........")<<endl;
}


  if ((n == 2) and (m == 9))
{
 cout<<(0)<<endl;
    cout<<(".........")<<endl;
    cout<<(".........")<<endl;
}


  if ((n == 3) and (m == 1))
{
cout<<(0)<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
}


  if ((n == 3) and (m == 2))
{
cout<<(0)<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;

}

  if ((n == 3) and (m == 3))
{
cout<<(1)<<endl;
    cout<<("AAA")<<endl;
    cout<<(".A.")<<endl;
    cout<<(".A.")<<endl;
}


  if ((n == 3) and (m == 4))
{
cout<<(1)<<endl;
    cout<<("AAA.")<<endl;
    cout<<(".A..")<<endl;
    cout<<(".A..")<<endl;

}

  if ((n == 3) and (m == 5))
{
cout<<(2)<<endl;
    cout<<("AAAB.")<<endl;
    cout<<(".A.B.")<<endl;
    cout<<(".ABBB")<<endl;

}

  if ((n == 3) and (m == 6))
{
 cout<<(2)<<endl;
    cout<<("AAABBB")<<endl;
    cout<<(".A..B.")<<endl;
    cout<<(".A..B.")<<endl;
}


  if ((n == 3) and (m == 7))
{
cout<<(3)<<endl;
    cout<<("AAABCCC")<<endl;
    cout<<(".A.B.C.")<<endl;
    cout<<(".ABBBC.")<<endl;
}


  if ((n == 3) and (m == 8))
{
cout<<(3)<<endl;
    cout<<("AAABBBC.")<<endl;
    cout<<(".A..B.C.")<<endl;
    cout<<(".A..BCCC")<<endl;

}

  if ((n == 3) and (m == 9))
{
 cout<<(4)<<endl;
    cout<<("AAABCCCD.")<<endl;
    cout<<(".A.B.C.D.")<<endl;
    cout<<(".ABBBCDDD")<<endl;
}


  if ((n == 4) and (m == 1))
{
 cout<<(0)<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
}


  if ((n == 4) and (m == 2))
{
cout<<(0)<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
}


  if ((n == 4) and (m == 3))
{
cout<<(1)<<endl;
    cout<<("AAA")<<endl;
    cout<<(".A.")<<endl;
    cout<<(".A.")<<endl;
    cout<<("...")<<endl;
}


  if ((n == 4) and (m == 4))
{
cout<<(2)<<endl;
    cout<<("AAA.")<<endl;
    cout<<(".AB.")<<endl;
    cout<<(".AB.")<<endl;
    cout<<(".BBB")<<endl;

}

  if ((n == 4) and (m == 5))
{
cout<<(2)<<endl;
    cout<<("AAAB.")<<endl;
    cout<<(".A.B.")<<endl;
    cout<<(".ABBB")<<endl;
    cout<<(".....")<<endl;
}


  if ((n == 4) and (m == 6))
{
cout<<(3)<<endl;
    cout<<("AAABBB")<<endl;
    cout<<(".AC.B.")<<endl;
    cout<<(".AC.B.")<<endl;
    cout<<(".CCC..")<<endl;

}

  if ((n == 4) and (m == 7))
{
cout<<(4)<<endl;
    cout<<("AAABBB.")<<endl;
    cout<<(".AC.BD.")<<endl;
    cout<<(".AC.BD.")<<endl;
    cout<<(".CCCDDD")<<endl;
}


  if ((n == 4) and (m == 8))
{
cout<<(4)<<endl;
    cout<<("AAABBBC.")<<endl;
    cout<<(".AD.B.C.")<<endl;
    cout<<(".AD.BCCC")<<endl;
    cout<<(".DDD....")<<endl;

}

  if ((n == 4) and (m == 9))
{
 cout<<(5)<<endl;
    cout<<("AAABBBCCC")<<endl;
    cout<<(".AD.BE.C.")<<endl;
    cout<<(".AD.BE.C.")<<endl;
    cout<<(".DDDEEE..")<<endl;
}


  if ((n == 5) and (m == 1))
{
 cout<<(0)<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
}


  if ((n == 5) and (m == 2))
{
 cout<<(0)<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
}


  if ((n == 5) and (m == 3))
{
cout<<(2)<<endl;
    cout<<("AAA")<<endl;
    cout<<(".A.")<<endl;
    cout<<("BA.")<<endl;
    cout<<("BBB")<<endl;
    cout<<("B..")<<endl;
}


  if ((n == 5) and (m == 4))
{
 cout<<(2)<<endl;
    cout<<("AAA.")<<endl;
    cout<<(".AB.")<<endl;
    cout<<(".AB.")<<endl;
    cout<<(".BBB")<<endl;
    cout<<("....")<<endl;

}

  if ((n == 5) and (m == 5))
{
cout<<(4)<<endl;
    cout<<("AAA.B")<<endl;
    cout<<(".ABBB")<<endl;
    cout<<("CA.DB")<<endl;
    cout<<("CCCD.")<<endl;
    cout<<("C.DDD")<<endl;
}


  if ((n == 5) and (m == 6))
{
cout<<(4)<<endl;
    cout<<("AAABBB")<<endl;
    cout<<(".A..B.")<<endl;
    cout<<("CA.DB.")<<endl;
    cout<<("CCCDDD")<<endl;
    cout<<("C..D..")<<endl;
}


  if ((n == 5) and (m == 7))
{
cout<<(5)<<endl;
    cout<<("AAABBB.")<<endl;
    cout<<(".A..BC.")<<endl;
    cout<<("DA.EBC.")<<endl;
    cout<<("DDDECCC")<<endl;
    cout<<("D.EEE..")<<endl;

}

  if ((n == 5) and (m == 8))
{
cout<<(6)<<endl;
    cout<<("AAABBB.C")<<endl;
    cout<<(".A..BCCC")<<endl;
    cout<<("DA.EB.FC")<<endl;
    cout<<("DDDEEEF.")<<endl;
    cout<<("D..E.FFF")<<endl;
}


  if ((n == 5) and (m == 9))
{
cout<<(7)<<endl;
    cout<<("AAABBBC..")<<endl;
    cout<<(".A..BDCCC")<<endl;
    cout<<("EA.FBDCG.")<<endl;
    cout<<("EEEFDDDG.")<<endl;
    cout<<("E.FFF.GGG")<<endl;
}


  if ((n == 6) and (m == 1))
{
cout<<(0)<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
}


  if ((n == 6) and (m == 2))
{
cout<<(0)<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
}


  if ((n == 6) and (m == 3))
{
 cout<<(2)<<endl;
    cout<<("AAA")<<endl;
    cout<<(".A.")<<endl;
    cout<<("BA.")<<endl;
    cout<<("BBB")<<endl;
    cout<<("B..")<<endl;
    cout<<("...")<<endl;
}


  if ((n == 6) and (m == 4))
{
cout<<(3)<<endl;
    cout<<("AAA.")<<endl;
    cout<<(".AB.")<<endl;
    cout<<(".AB.")<<endl;
    cout<<("CBBB")<<endl;
    cout<<("CCC.")<<endl;
    cout<<("C...")<<endl;

}

  if ((n == 6) and (m == 5))
{
cout<<(4)<<endl;
    cout<<("AAAB.")<<endl;
    cout<<(".A.B.")<<endl;
    cout<<("CABBB")<<endl;
    cout<<("CCCD.")<<endl;
    cout<<("CDDD.")<<endl;
    cout<<("...D.")<<endl;
}


  if ((n == 6) and (m == 6))
{
cout<<(5)<<endl;
    cout<<("AAABBB")<<endl;
    cout<<(".AC.B.")<<endl;
    cout<<(".AC.B.")<<endl;
    cout<<("DCCCE.")<<endl;
    cout<<("DDD.E.")<<endl;
    cout<<("D..EEE")<<endl;
}


  if ((n == 6) and (m == 7))
{
cout<<(6)<<endl;
    cout<<("AAAB...")<<endl;
    cout<<(".ACBBBD")<<endl;
    cout<<(".ACBDDD")<<endl;
    cout<<("ECCCF.D")<<endl;
    cout<<("EEE.FFF")<<endl;
    cout<<("E...F..")<<endl;
}


  if ((n == 6) and (m == 8))
{
cout<<(7)<<endl;
    cout<<("AAABBBC.")<<endl;
    cout<<(".AD.B.C.")<<endl;
    cout<<(".AD.BCCC")<<endl;
    cout<<("EDDDFGGG")<<endl;
    cout<<("EEE.F.G.")<<endl;
    cout<<("E..FFFG.")<<endl;
}


  if ((n == 6) and (m == 9))
{
 cout<<(8)<<endl;
    cout<<("AAABBBCCC")<<endl;
    cout<<(".AD.B.EC.")<<endl;
    cout<<(".AD.B.EC.")<<endl;
    cout<<("FDDDGEEEH")<<endl;
    cout<<("FFF.G.HHH")<<endl;
    cout<<("F..GGG..H")<<endl;
}


  if ((n == 7) and (m == 1))
{
cout<<(0)<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
}


  if ((n == 7) and (m == 2))
{
 cout<<(0)<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;

}

  if ((n == 7) and (m == 3))
{
 cout<<(3)<<endl;
    cout<<("AAA")<<endl;
    cout<<(".A.")<<endl;
    cout<<("BA.")<<endl;
    cout<<("BBB")<<endl;
    cout<<("BC.")<<endl;
    cout<<(".C.")<<endl;
    cout<<("CCC")<<endl;
}


  if ((n == 7) and (m == 4))
{
cout<<(4)<<endl;
    cout<<("AAA.")<<endl;
    cout<<(".AB.")<<endl;
    cout<<(".AB.")<<endl;
    cout<<("CBBB")<<endl;
    cout<<("CCCD")<<endl;
    cout<<("CDDD")<<endl;
    cout<<("...D")<<endl;
}


  if ((n == 7) and (m == 5))
{
cout<<(5)<<endl;
    cout<<("AAAB.")<<endl;
    cout<<(".A.B.")<<endl;
    cout<<("CABBB")<<endl;
    cout<<("CCCD.")<<endl;
    cout<<("CE.D.")<<endl;
    cout<<(".EDDD")<<endl;
    cout<<("EEE..")<<endl;
}


  if ((n == 7) and (m == 6))
{
cout<<(6)<<endl;
    cout<<("AAABBB")<<endl;
    cout<<(".A..B.")<<endl;
    cout<<("CA.DB.")<<endl;
    cout<<("CCCDDD")<<endl;
    cout<<("CE.DF.")<<endl;
    cout<<(".EEEF.")<<endl;
    cout<<(".E.FFF")<<endl;
}


  if ((n == 7) and (m == 7))
{
cout<<(8)<<endl;
    cout<<("AAABCCC")<<endl;
    cout<<(".A.B.C.")<<endl;
    cout<<("DABBBCE")<<endl;
    cout<<("DDDFEEE")<<endl;
    cout<<("DG.F.HE")<<endl;
    cout<<(".GFFFH.")<<endl;
    cout<<("GGG.HHH")<<endl;
}


  if ((n == 7) and (m == 8))
{
cout<<(9)<<endl;
    cout<<("AAA.BBB.")<<endl;
    cout<<(".ACCCBD.")<<endl;
    cout<<(".AEC.BD.")<<endl;
    cout<<("EEECFDDD")<<endl;
    cout<<("G.EHFFFI")<<endl;
    cout<<("GGGHFIII")<<endl;
    cout<<("G.HHH..I")<<endl;
}


  if ((n == 7) and (m == 9))
{
cout<<(10)<<endl;
    cout<<("AAAB..CCC")<<endl;
    cout<<(".ADBBB.C.")<<endl;
    cout<<(".ADBEEECF")<<endl;
    cout<<("GDDD.EFFF")<<endl;
    cout<<("GGGHIE.JF")<<endl;
    cout<<("GHHHIIIJ.")<<endl;
    cout<<("...HI.JJJ")<<endl;
}


  if ((n == 8) and (m == 1))
{
cout<<(0)<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
}


  if ((n == 8) and (m == 2))
{
cout<<(0)<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
}


  if ((n == 8) and (m == 3))
{
cout<<(3)<<endl;
    cout<<("AAA")<<endl;
    cout<<(".A.")<<endl;
    cout<<("BA.")<<endl;
    cout<<("BBB")<<endl;
    cout<<("BC.")<<endl;
    cout<<(".C.")<<endl;
    cout<<("CCC")<<endl;
    cout<<("...")<<endl;

}

  if ((n == 8) and (m == 4))
{
 cout<<(4)<<endl;
    cout<<("AAA.")<<endl;
    cout<<(".AB.")<<endl;
    cout<<(".AB.")<<endl;
    cout<<("CBBB")<<endl;
    cout<<("CCCD")<<endl;
    cout<<("CDDD")<<endl;
    cout<<("...D")<<endl;
    cout<<("....")<<endl;
}


  if ((n == 8) and (m == 5))
{
cout<<(6)<<endl;
    cout<<("AAAB.")<<endl;
    cout<<(".A.B.")<<endl;
    cout<<("CABBB")<<endl;
    cout<<("CCCD.")<<endl;
    cout<<("CDDD.")<<endl;
    cout<<("EEEDF")<<endl;
    cout<<(".EFFF")<<endl;
    cout<<(".E..F")<<endl;
}


  if ((n == 8) and (m == 6))
{
 cout<<(7)<<endl;
    cout<<("AAABBB")<<endl;
    cout<<(".AC.B.")<<endl;
    cout<<(".AC.B.")<<endl;
    cout<<("DCCC.E")<<endl;
    cout<<("DDDEEE")<<endl;
    cout<<("DFFFGE")<<endl;
    cout<<("..F.G.")<<endl;
    cout<<("..FGGG")<<endl;
}


  if ((n == 8) and (m == 7))
{
cout<<(9)<<endl;
    cout<<("AAAB...")<<endl;
    cout<<(".ACBBBD")<<endl;
    cout<<(".ACBDDD")<<endl;
    cout<<("ECCCF.D")<<endl;
    cout<<("EEEGFFF")<<endl;
    cout<<("EH.GFI.")<<endl;
    cout<<(".HGGGI.")<<endl;
    cout<<("HHH.III")<<endl;
}


  if ((n == 8) and (m == 8))
{
cout<<(10)<<endl;
    cout<<("AAABBBC.")<<endl;
    cout<<(".A..B.C.")<<endl;
    cout<<("DA..BCCC")<<endl;
    cout<<("DDDEEE.F")<<endl;
    cout<<("DGGGEFFF")<<endl;
    cout<<(".HGIE.JF")<<endl;
    cout<<(".HGIIIJ.")<<endl;
    cout<<("HHHI.JJJ")<<endl;
}


  if ((n == 8) and (m == 9))
{
cout<<(12)<<endl;
    cout<<("AAABBB..C")<<endl;
    cout<<(".AD.BECCC")<<endl;
    cout<<(".AD.BEEEC")<<endl;
    cout<<("FDDDGEHHH")<<endl;
    cout<<("FFFIGGGH.")<<endl;
    cout<<("FJ.IGK.HL")<<endl;
    cout<<(".JIIIKLLL")<<endl;
    cout<<("JJJ.KKK.L")<<endl;
}


  if ((n == 9) and (m == 1))
{
cout<<(0)<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
    cout<<(".")<<endl;
}


  if ((n == 9) and (m == 2))
{
cout<<(0)<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
    cout<<("..")<<endl;
}


  if ((n == 9) and (m == 3))
{
 cout<<(4)<<endl;
    cout<<("AAA")<<endl;
    cout<<(".A.")<<endl;
    cout<<("BA.")<<endl;
    cout<<("BBB")<<endl;
    cout<<("B.C")<<endl;
    cout<<("CCC")<<endl;
    cout<<("D.C")<<endl;
    cout<<("DDD")<<endl;
    cout<<("D..")<<endl;
}


  if ((n == 9) and (m == 4))
{
cout<<(5)<<endl;
    cout<<("AAA.")<<endl;
    cout<<(".AB.")<<endl;
    cout<<(".AB.")<<endl;
    cout<<("CBBB")<<endl;
    cout<<("CCCD")<<endl;
    cout<<("CDDD")<<endl;
    cout<<("EEED")<<endl;
    cout<<(".E..")<<endl;
    cout<<(".E..")<<endl;
}


  if ((n == 9) and (m == 5))
{
cout<<(7)<<endl;
    cout<<("AAAB.")<<endl;
    cout<<(".A.B.")<<endl;
    cout<<("CABBB")<<endl;
    cout<<("CCC.D")<<endl;
    cout<<("CEDDD")<<endl;
    cout<<(".EEED")<<endl;
    cout<<("FEGGG")<<endl;
    cout<<("FFFG.")<<endl;
    cout<<("F..G.")<<endl;

}

  if ((n == 9) and (m == 6))
{
cout<<(8)<<endl;
    cout<<("AAABBB")<<endl;
    cout<<(".AC.B.")<<endl;
    cout<<(".AC.B.")<<endl;
    cout<<("DCCCE.")<<endl;
    cout<<("DDD.E.")<<endl;
    cout<<("D.FEEE")<<endl;
    cout<<(".GFFFH")<<endl;
    cout<<(".GFHHH")<<endl;
    cout<<("GGG..H")<<endl;
}


  if ((n == 9) and (m == 7))
{
 cout<<(10)<<endl;
    cout<<("AAABBB.")<<endl;
    cout<<(".A..BC.")<<endl;
    cout<<("DA.EBC.")<<endl;
    cout<<("DDDECCC")<<endl;
    cout<<("DFEEE.G")<<endl;
    cout<<(".FFFGGG")<<endl;
    cout<<("HFIIIJG")<<endl;
    cout<<("HHHI.J.")<<endl;
    cout<<("H..IJJJ")<<endl;
}


  if ((n == 9) and (m == 8))
{
cout<<(12)<<endl;
    cout<<("A..FFF.J")<<endl;
    cout<<("AAADFJJJ")<<endl;
    cout<<("ADDDF.IJ")<<endl;
    cout<<("B..DIII.")<<endl;
    cout<<("BBBGGGIK")<<endl;
    cout<<("BEEEGKKK")<<endl;
    cout<<(".CEHG.LK")<<endl;
    cout<<(".CEHHHL.")<<endl;
    cout<<("CCCH.LLL")<<endl;
}


  if ((n == 9) and (m == 9))
{
cout<<(13)<<endl;
    cout<<("AAABBBCCC")<<endl;
    cout<<(".AD.BE.C.")<<endl;
    cout<<(".AD.BE.C.")<<endl;
    cout<<("FDDDEEE.G")<<endl;
    cout<<("FFFHHHGGG")<<endl;
    cout<<("FIIIHJJJG")<<endl;
    cout<<(".KILH.JM.")<<endl;
    cout<<(".KILLLJM.")<<endl;
    cout<<("KKKL..MMM")<<endl;

}


}









