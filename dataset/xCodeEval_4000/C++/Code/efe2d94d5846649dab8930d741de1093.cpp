#include <cstdio>

int main(){
int i, j, n, m;
scanf("%d%d", &n, &m);
if (n == 1 && m == 1){
    printf("%d\n", 0);
    printf(".\n");
}
if (n == 1 && m == 2){
    printf("%d\n", 0);
    printf("..\n");
}
if (n == 1 && m == 3){
    printf("%d\n", 0);
    printf("...\n");
}
if (n == 1 && m == 4){
    printf("%d\n", 0);
    printf("....\n");
}
if (n == 1 && m == 5){
    printf("%d\n", 0);
    printf(".....\n");
}
if (n == 1 && m == 6){
    printf("%d\n", 0);
    printf("......\n");
}
if (n == 1 && m == 7){
    printf("%d\n", 0);
    printf(".......\n");
}
if (n == 1 && m == 8){
    printf("%d\n", 0);
    printf("........\n");
}
if (n == 1 && m == 9){
    printf("%d\n", 0);
    printf(".........\n");
}
if (n == 2 && m == 1){
    printf("%d\n", 0);
    printf(".\n");
    printf(".\n");
}
if (n == 2 && m == 2){
    printf("%d\n", 0);
    printf("..\n");
    printf("..\n");
}
if (n == 2 && m == 3){
    printf("%d\n", 0);
    printf("...\n");
    printf("...\n");
}
if (n == 2 && m == 4){
    printf("%d\n", 0);
    printf("....\n");
    printf("....\n");
}
if (n == 2 && m == 5){
    printf("%d\n", 0);
    printf(".....\n");
    printf(".....\n");
}
if (n == 2 && m == 6){
    printf("%d\n", 0);
    printf("......\n");
    printf("......\n");
}
if (n == 2 && m == 7){
    printf("%d\n", 0);
    printf(".......\n");
    printf(".......\n");
}
if (n == 2 && m == 8){
    printf("%d\n", 0);
    printf("........\n");
    printf("........\n");
}
if (n == 2 && m == 9){
    printf("%d\n", 0);
    printf(".........\n");
    printf(".........\n");
}
if (n == 3 && m == 1){
    printf("%d\n", 0);
    printf(".\n");
    printf(".\n");
    printf(".\n");
}
if (n == 3 && m == 2){
    printf("%d\n", 0);
    printf("..\n");
    printf("..\n");
    printf("..\n");
}
if (n == 3 && m == 3){
    printf("%d\n", 1);
    printf("AAA\n");
    printf(".A.\n");
    printf(".A.\n");
}
if (n == 3 && m == 4){
    printf("%d\n", 1);
    printf("AAA.\n");
    printf(".A..\n");
    printf(".A..\n");
}
if (n == 3 && m == 5){
    printf("%d\n", 2);
    printf("AAAB.\n");
    printf(".A.B.\n");
    printf(".ABBB\n");
}
if (n == 3 && m == 6){
    printf("%d\n", 2);
    printf("AAAB..\n");
    printf(".A.B..\n");
    printf(".ABBB.\n");
}
if (n == 3 && m == 7){
    printf("%d\n", 3);
    printf("AAABCCC\n");
    printf(".A.B.C.\n");
    printf(".ABBBC.\n");
}
if (n == 3 && m == 8){
    printf("%d\n", 3);
    printf("AAABCCC.\n");
    printf(".A.B.C..\n");
    printf(".ABBBC..\n");
}
if (n == 3 && m == 9){
    printf("%d\n", 4);
    printf("AAABCCCD.\n");
    printf(".A.B.C.D.\n");
    printf(".ABBBCDDD\n");
}
if (n == 4 && m == 1){
    printf("%d\n", 0);
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
}
if (n == 4 && m == 2){
    printf("%d\n", 0);
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
}
if (n == 4 && m == 3){
    printf("%d\n", 1);
    printf("AAA\n");
    printf(".A.\n");
    printf(".A.\n");
    printf("...\n");
}
if (n == 4 && m == 4){
    printf("%d\n", 2);
    printf("AAA.\n");
    printf(".AB.\n");
    printf(".AB.\n");
    printf(".BBB\n");
}
if (n == 4 && m == 5){
    printf("%d\n", 2);
    printf("AAAB.\n");
    printf(".A.B.\n");
    printf(".ABBB\n");
    printf(".....\n");
}
if (n == 4 && m == 6){
    printf("%d\n", 3);
    printf("AAABBB\n");
    printf(".AC.B.\n");
    printf(".AC.B.\n");
    printf(".CCC..\n");
}
if (n == 4 && m == 7){
    printf("%d\n", 4);
    printf("AAABBB.\n");
    printf(".AC.BD.\n");
    printf(".AC.BD.\n");
    printf(".CCCDDD\n");
}
if (n == 4 && m == 8){
    printf("%d\n", 4);
    printf("AAA.BCCC\n");
    printf(".ABBBDC.\n");
    printf(".A..BDC.\n");
    printf("....DDD.\n");
}
if (n == 4 && m == 9){
    printf("%d\n", 5);
    printf("AAABBBDDD\n");
    printf(".AC.BE.D.\n");
    printf(".AC.BE.D.\n");
    printf(".CCCEEE..\n");
}
if (n == 5 && m == 1){
    printf("%d\n", 0);
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
}
if (n == 5 && m == 2){
    printf("%d\n", 0);
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
}
if (n == 5 && m == 3){
    printf("%d\n", 2);
    printf("AAA\n");
    printf(".A.\n");
    printf("BA.\n");
    printf("BBB\n");
    printf("B..\n");
}
if (n == 5 && m == 4){
    printf("%d\n", 2);
    printf("AAA.\n");
    printf(".AB.\n");
    printf(".AB.\n");
    printf(".BBB\n");
    printf("....\n");
}
if (n == 5 && m == 5){
    printf("%d\n", 4);
    printf("AAA.B\n");
    printf(".ABBB\n");
    printf("CA.DB\n");
    printf("CCCD.\n");
    printf("C.DDD\n");
}
if (n == 5 && m == 6){
    printf("%d\n", 4);
    printf("AAAB..\n");
    printf(".A.B..\n");
    printf("CABBBD\n");
    printf("CCCDDD\n");
    printf("C....D\n");
}
if (n == 5 && m == 7){
    printf("%d\n", 5);
    printf("AAABDDD\n");
    printf(".A.B.D.\n");
    printf("CABBBDE\n");
    printf("CCC.EEE\n");
    printf("C.....E\n");
}
if (n == 5 && m == 8){
    printf("%d\n", 6);
    printf("AAA.BEEE\n");
    printf(".ABBBFE.\n");
    printf("CA.DBFE.\n");
    printf("CCCDFFF.\n");
    printf("C.DDD...\n");
}
if (n == 5 && m == 9){
    printf("%d\n", 7);
    printf("AAA.DDD.F\n");
    printf(".ABBBDFFF\n");
    printf("CA.BED.GF\n");
    printf("CCCBEEEG.\n");
    printf("C...E.GGG\n");
}
if (n == 6 && m == 1){
    printf("%d\n", 0);
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
}
if (n == 6 && m == 2){
    printf("%d\n", 0);
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
}
if (n == 6 && m == 3){
    printf("%d\n", 2);
    printf("AAA\n");
    printf(".A.\n");
    printf("BA.\n");
    printf("BBB\n");
    printf("B..\n");
    printf("...\n");
}
if (n == 6 && m == 4){
    printf("%d\n", 3);
    printf("AAA.\n");
    printf(".AB.\n");
    printf(".AB.\n");
    printf("CBBB\n");
    printf("CCC.\n");
    printf("C...\n");
}
if (n == 6 && m == 5){
    printf("%d\n", 4);
    printf("AAAB.\n");
    printf(".A.B.\n");
    printf("CABBB\n");
    printf("CCCD.\n");
    printf("CDDD.\n");
    printf("...D.\n");
}
if (n == 6 && m == 6){
    printf("%d\n", 5);
    printf("AAA...\n");
    printf(".ABCCC\n");
    printf(".AB.C.\n");
    printf("DBBBCE\n");
    printf("DDDEEE\n");
    printf("D....E\n");
}
if (n == 6 && m == 7){
    printf("%d\n", 6);
    printf("AAABEEE\n");
    printf(".A.B.E.\n");
    printf("CABBBEF\n");
    printf("CCCDFFF\n");
    printf("CDDD..F\n");
    printf("...D...\n");
}
if (n == 6 && m == 8){
    printf("%d\n", 7);
    printf("AAABEEE.\n");
    printf(".A.B.E..\n");
    printf("CABBBE.F\n");
    printf("CCCDGFFF\n");
    printf("CDDDGGGF\n");
    printf("...DG...\n");
}
if (n == 6 && m == 9){
    printf("%d\n", 8);
    printf("AAABDDD.G\n");
    printf(".A.B.DGGG\n");
    printf("CABBBDE.G\n");
    printf("CCCFEEEH.\n");
    printf("C..F..EH.\n");
    printf("..FFF.HHH\n");
}
if (n == 7 && m == 1){
    printf("%d\n", 0);
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
}
if (n == 7 && m == 2){
    printf("%d\n", 0);
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
}
if (n == 7 && m == 3){
    printf("%d\n", 3);
    printf("AAA\n");
    printf(".A.\n");
    printf("BA.\n");
    printf("BBB\n");
    printf("BC.\n");
    printf(".C.\n");
    printf("CCC\n");
}
if (n == 7 && m == 4){
    printf("%d\n", 4);
    printf("AAA.\n");
    printf(".AB.\n");
    printf(".AB.\n");
    printf("CBBB\n");
    printf("CCCD\n");
    printf("CDDD\n");
    printf("...D\n");
}
if (n == 7 && m == 5){
    printf("%d\n", 5);
    printf("AAAB.\n");
    printf(".A.B.\n");
    printf("CABBB\n");
    printf("CCCD.\n");
    printf("CE.D.\n");
    printf(".EDDD\n");
    printf("EEE..\n");
}
if (n == 7 && m == 6){
    printf("%d\n", 6);
    printf("AAAB..\n");
    printf(".A.B..\n");
    printf("CABBBD\n");
    printf("CCCDDD\n");
    printf("CEFFFD\n");
    printf(".E.F..\n");
    printf("EEEF..\n");
}
if (n == 7 && m == 7){
    printf("%d\n", 8);
    printf("AAABDDD\n");
    printf(".A.B.D.\n");
    printf("CABBBDE\n");
    printf("CCC.EEE\n");
    printf("CFGGGHE\n");
    printf(".F.G.H.\n");
    printf("FFFGHHH\n");
}
if (n == 7 && m == 8){
    printf("%d\n", 9);
    printf("A..BDDD.\n");
    printf("AAAB.DH.\n");
    printf("ACBBBDH.\n");
    printf(".CCCEHHH\n");
    printf("FC.GEEEI\n");
    printf("FFFGEIII\n");
    printf("F.GGG..I\n");
}
if (n == 7 && m == 9){
    printf("%d\n", 10);
    printf("AAABDDD.H\n");
    printf(".A.B.DHHH\n");
    printf("CABBBDE.H\n");
    printf("CCCFEEEI.\n");
    printf("CG.F.JEI.\n");
    printf(".GFFFJIII\n");
    printf("GGG.JJJ..\n");
}
if (n == 8 && m == 1){
    printf("%d\n", 0);
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
}
if (n == 8 && m == 2){
    printf("%d\n", 0);
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
}
if (n == 8 && m == 3){
    printf("%d\n", 3);
    printf("AAA\n");
    printf(".A.\n");
    printf("BA.\n");
    printf("BBB\n");
    printf("BC.\n");
    printf(".C.\n");
    printf("CCC\n");
    printf("...\n");
}
if (n == 8 && m == 4){
    printf("%d\n", 4);
    printf("AAA.\n");
    printf(".AB.\n");
    printf(".AB.\n");
    printf("CBBB\n");
    printf("CCCD\n");
    printf("CDDD\n");
    printf("...D\n");
    printf("....\n");
}
if (n == 8 && m == 5){
    printf("%d\n", 6);
    printf("AAAB.\n");
    printf(".A.B.\n");
    printf("CABBB\n");
    printf("CCC.D\n");
    printf("CEDDD\n");
    printf(".E.FD\n");
    printf("EEEF.\n");
    printf("..FFF\n");
}
if (n == 8 && m == 6){
    printf("%d\n", 7);
    printf("AAAB..\n");
    printf(".A.B..\n");
    printf("CABBBD\n");
    printf("CCCDDD\n");
    printf("CEEEGD\n");
    printf(".FE.G.\n");
    printf(".FEGGG\n");
    printf("FFF...\n");
}
if (n == 8 && m == 7){
    printf("%d\n", 9);
    printf("AAAB..D\n");
    printf(".A.BDDD\n");
    printf("CABBBED\n");
    printf("CCCEEE.\n");
    printf("CFFF.EH\n");
    printf(".GFIHHH\n");
    printf(".GFIIIH\n");
    printf("GGGI...\n");
}
if (n == 8 && m == 8){
    printf("%d\n", 10);
    printf("AAABDDD.\n");
    printf(".A.B.D..\n");
    printf("CABBBD..\n");
    printf("CCCEEE.H\n");
    printf("CFFFEHHH\n");
    printf(".GFIE.JH\n");
    printf(".GFIIIJ.\n");
    printf("GGGI.JJJ\n");
}
if (n == 8 && m == 9){
    printf("%d\n", 12);
    printf("A..DDD..H\n");
    printf("AAABDIHHH\n");
    printf("ABBBDIIIH\n");
    printf("C..BEIJJJ\n");
    printf("CCCFEEEJ.\n");
    printf("CG.FEK.JL\n");
    printf(".GFFFKLLL\n");
    printf("GGG.KKK.L\n");
}
if (n == 9 && m == 1){
    printf("%d\n", 0);
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
}
if (n == 9 && m == 2){
    printf("%d\n", 0);
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
}
if (n == 9 && m == 3){
    printf("%d\n", 4);
    printf("AAA\n");
    printf(".A.\n");
    printf("BA.\n");
    printf("BBB\n");
    printf("B.C\n");
    printf("CCC\n");
    printf(".DC\n");
    printf(".D.\n");
    printf("DDD\n");
}
if (n == 9 && m == 4){
    printf("%d\n", 5);
    printf("AAA.\n");
    printf(".AB.\n");
    printf(".AB.\n");
    printf("CBBB\n");
    printf("CCCD\n");
    printf("CDDD\n");
    printf("EEED\n");
    printf(".E..\n");
    printf(".E..\n");
}
if (n == 9 && m == 5){
    printf("%d\n", 7);
    printf("AAAB.\n");
    printf(".A.B.\n");
    printf("CABBB\n");
    printf("CCC.D\n");
    printf("CEDDD\n");
    printf(".EEED\n");
    printf("FEGGG\n");
    printf("FFFG.\n");
    printf("F..G.\n");
}
if (n == 9 && m == 6){
    printf("%d\n", 8);
    printf("AAAB..\n");
    printf(".A.B..\n");
    printf("CABBBD\n");
    printf("CCCDDD\n");
    printf("C.EF.D\n");
    printf("EEEFFF\n");
    printf(".GEFH.\n");
    printf(".GHHH.\n");
    printf("GGG.H.\n");
}
if (n == 9 && m == 7){
    printf("%d\n", 10);
    printf("AAABDDD\n");
    printf(".A.B.D.\n");
    printf("CABBBDE\n");
    printf("CCC.EEE\n");
    printf("CF..G.E\n");
    printf(".FFFGGG\n");
    printf("HF.IG.J\n");
    printf("HHHIJJJ\n");
    printf("H.III.J\n");
}
if (n == 9 && m == 8){
    printf("%d\n", 12);
    printf("AAABEEE.\n");
    printf(".A.B.EI.\n");
    printf("CABBBEI.\n");
    printf("CCCDFIII\n");
    printf("CDDDFFFJ\n");
    printf("GGGDFJJJ\n");
    printf(".GKHHHLJ\n");
    printf(".GK.H.L.\n");
    printf(".KKKHLLL\n");
}
if (n == 9 && m == 9){
    printf("%d\n", 13);
    printf("AAABEEE.I\n");
    printf(".A.B.EIII\n");
    printf("CABBBE.JI\n");
    printf("CCCDFFFJ.\n");
    printf("CDDDHFJJJ\n");
    printf("GGGDHFKKK\n");
    printf(".GMHHHLK.\n");
    printf(".GM...LK.\n");
    printf(".MMM.LLL.\n");
}

return 0;
}