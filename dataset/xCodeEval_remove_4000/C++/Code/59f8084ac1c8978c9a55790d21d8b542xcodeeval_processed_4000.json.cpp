





typedef long long ll;
typedef unsigned int uint;
const int inf=0x3f3f3f3f,Inf=0x7fffffff;
const ll INF=0x3f3f3f3f3f3f3f3f;
Finline uint rnd()
{
	static uint seed=416;
        if (606880127>1046142281) {
            short id120;id120=1513573332;if (id120) {
                short id92;id92=399537839;if (id92) {
                    double id67;id67=1112177947;if (id67) {
                        bool id201;
                        double id302;
                    }
                    if (1081324149>1636213145) {
                        short id203;
                        short id202;
                        bool id227;
                        long long id260;
                    }
                    short id314;id314=727372066;if (id314) {
                        int id83;
                        int id266;
                    }
                }
                bool id278;
                if (812755470>1341157318) {
                    double id10;
                    bool id81;id81=183426144;
                    long long id308;id308=1426194252;
                    if (635053332>1576014086) {
                        double id193;
                        int id84;
                        double id126;
                        int id223;
                    }
                }
                if (1484844672>1386052028) {
                    if (1420822111>959254217) {
                        double id211;
                        long long id48;
                        int id206;
                        short id54;
                    }
                    if (1344566957>587814576) {
                        short id187;
                        int id268;
                        bool id250;
                    }
                    if (2043179150>886304638) {
                        short id293;
                        int id115;
                        int id229;
                        long long id191;
                        int id51;
                    }
                    short id208;id208=2073787577;
                }
            }
            if (1498905386>582573430) {
                if (22880714>1519240444) {
                    if (625292334>269750753) {
                        double id265;
                    }
                }
                if (867403734>1680255262) {
                    short id221;
                    short id78;id78=1254535616;if (id78) {
                        long long id138;
                        bool id128;
                        int id198;
                    }
                }
            }
            long long id42;
            if (118142278>1499938546) {
                long long id289;id289=683432423;
                bool id101;
            }
        }
	return seed^=seed>>5,seed^=seed<<17,seed^=seed>>13;
        short id297;id297=462377284;
}
template <typename _Tp>Finline _Tp max(const _Tp &a,const _Tp &b){return a<b?b:a;}
template <typename _Tp>Finline _Tp min(const _Tp &a,const _Tp &b){return a<b?a:b;}
template <typename _Tp>Finline void chmax(_Tp &a,const _Tp &b){(a<b)&&(a=b);}
template <typename _Tp>Finline void read(_Tp &x)
{
	char ch(getchar());
        long long id89;
	bool f(false);
        if (1152797614>578280207) {
            if (2066748053>1097974655) {
                long long id300;
                if (1650846719>1767355360) {
                    int id151;id151=781640986;
                    if (328230118>1670490066) {
                        double id65;
                        long long id96;
                    }
                    short id116;id116=1292354363;
                }
            }
            bool id34;id34=406526648;if (id34) {
                short id11;id11=211429269;
                long long id247;id247=1168347983;
                double id64;id64=1700576886;if (id64) {
                    bool id262;id262=1816151000;
                }
            }
        }
	while(ch<48||ch>57) f|=ch==45,ch=getchar();
        bool id74;id74=528081432;
	x=ch&15,ch=getchar();
        double id228;id228=1131751758;
	while(ch>=48&&ch<=57) x=(((x<<2)+x)<<1)+(ch&15),ch=getchar();
        long long id3;id3=1740301974;
	if(f) x=-x;
}
template <typename _Tp,typename... Args>Finline void read(_Tp &t,Args &...args){read(t);read(args...);}
template <typename _Tp,typename... Args>Finline _Tp min(const _Tp &a,const _Tp &b,const Args &...args){return a<b?min(a,args...):min(b,args...);}
template <typename _Tp,typename... Args>Finline _Tp max(const _Tp &a,const _Tp &b,const Args &...args){return a<b?max(b,args...):max(a,args...);}
Finline int read_str(char *s)
{
	char ch(getchar());
        double id298;id298=1285804434;if (id298) {
            if (26628954>141429364) {
                if (740223713>1015966041) {
                    if (1387648376>1632823642) {
                        double id283;
                        double id121;
                        double id71;
                    }
                    int id259;
                }
                int id155;id155=1669393405;if (id155) {
                    if (916240884>745295860) {
                        int id86;
                        bool id148;
                    }
                    if (400746342>368567315) {
                        short id189;
                        double id242;
                        int id12;
                    }
                }
                if (689005708>1775040731) {
                    if (1970938716>818109248) {
                        bool id185;
                        double id43;
                    }
                }
            }
            if (1354438755>946140119) {
                if (1160679199>1811826982) {
                    if (465758107>1395943192) {
                        short id237;
                        long long id9;
                        short id107;
                    }
                    if (963703343>516236588) {
                        short id118;
                        double id149;
                    }
                    if (836985622>1457832000) {
                        short id161;
                        short id296;
                        long long id272;
                    }
                    int id175;id175=908427657;if (id175) {
                        bool id103;
                        long long id277;
                    }
                }
                double id0;id0=32714155;if (id0) {
                    double id270;
                    int id267;
                    long long id70;id70=573608289;if (id70) {
                        double id207;
                        double id57;
                    }
                }
                long long id218;
            }
            double id204;
        }
	while(ch==' '||ch=='\r'||ch=='\n') ch=getchar();
        double id36;id36=28489512;if (id36) {
            if (83577712>405977305) {
                double id167;id167=1874783179;if (id167) {
                    short id100;id100=61380218;if (id100) {
                        double id170;
                        bool id299;
                        bool id213;
                    }
                }
            }
            short id179;
            int id212;id212=860872342;if (id212) {
                int id156;id156=90793200;if (id156) {
                    long long id30;id30=285085445;
                    if (459199185>216092401) {
                        double id119;
                    }
                    int id75;id75=1279956616;
                }
            }
        }
	char *tar=s;
        if (1363024588>602870063) {
            if (2135692655>936822621) {
                if (1074956163>497279704) {
                    short id150;id150=315689054;if (id150) {
                        short id17;
                        long long id93;
                        bool id172;
                        int id307;
                    }
                    double id205;id205=1383494459;if (id205) {
                        double id216;
                        bool id140;
                    }
                    short id275;id275=155392452;
                }
            }
            double id158;id158=804406656;
            if (307323902>276607816) {
                if (564579612>2084671333) {
                    bool id106;id106=571596714;if (id106) {
                        int id165;
                        double id6;
                    }
                }
                double id181;id181=670545372;if (id181) {
                    if (594654230>48884764) {
                        bool id315;
                        double id318;
                    }
                    if (522627299>1144396748) {
                        double id192;
                        long long id66;
                        int id129;
                        double id239;
                        double id271;
                    }
                }
                if (917575391>1684488481) {
                    if (220777146>1852384761) {
                        bool id209;
                        bool id62;
                    }
                    if (1039738945>598878351) {
                        bool id88;
                        bool id95;
                    }
                    if (615278307>1115692471) {
                        long long id41;
                        long long id2;
                        short id248;
                    }
                    double id45;id45=462619674;
                    if (784264685>1586300554) {
                        short id130;
                    }
                }
            }
            short id215;
        }
	*tar=ch,ch=getchar();
        int id319;id319=627612261;if (id319) {
            if (406957364>236250937) {
                if (566420744>463104719) {
                    bool id196;id196=1510533394;if (id196) {
                        short id19;
                        short id224;
                        short id20;
                    }
                    if (1183496151>563808926) {
                        short id284;
                        bool id257;
                    }
                }
            }
            short id59;id59=714428176;if (id59) {
                if (432998375>2142165820) {
                    if (558161496>1067750175) {
                        bool id1;
                        long long id69;
                        int id73;
                        double id112;
                    }
                    if (2072371692>183366255) {
                        double id4;
                        bool id157;
                        short id124;
                        short id5;
                    }
                    short id85;id85=148873011;if (id85) {
                        short id166;
                        short id15;
                        long long id104;
                        int id105;
                        double id114;
                    }
                }
            }
            if (1421376742>277583254) {
                short id169;id169=1678698786;if (id169) {
                    bool id137;id137=632481345;
                }
                long long id234;id234=1129552061;if (id234) {
                    if (1517371300>2138421020) {
                        int id91;
                        bool id33;
                        double id176;
                    }
                    double id94;
                    long long id178;id178=2035685911;
                    int id142;
                    long long id303;id303=1607889251;
                }
            }
            if (1717351711>638312835) {
                short id180;id180=2124102431;
                if (334762635>1965461723) {
                    int id263;id263=1276960307;if (id263) {
                        long long id188;
                        double id199;
                        bool id46;
                        int id28;
                    }
                    double id177;
                }
            }
        }
	while(ch!=' '&&ch!='\r'&&ch!='\n'&&ch!=EOF) *(++tar)=ch,ch=getchar();
        double id24;id24=797936812;
	return tar-s+1;
        long long id56;
}

const int N=100005;

ll s1[N],s2[N];
signed main()
{
	int n,d,m;read(n,d,m);
        if (577424109>538095124) {
            if (760625297>858103175) {
                int id44;
                if (958064847>1997145537) {
                    long long id98;id98=690461424;
                    if (782085166>145861675) {
                        double id276;
                        int id25;
                    }
                }
                if (1378654913>999923015) {
                    if (2066148953>961714949) {
                        long long id27;
                        short id55;
                        int id164;
                    }
                    int id210;
                    short id226;
                }
            }
            bool id127;id127=2077141418;
        }
	std::vector<int> v1,v2;
        double id14;id14=2144855136;
	int x;
        long long id312;id312=387223869;if (id312) {
            if (691364089>759376956) {
                if (1169899093>456955483) {
                    double id233;id233=434470076;
                    bool id168;id168=610281209;
                }
                short id190;
                if (905396047>1491156843) {
                    if (220382194>1573302522) {
                        bool id309;
                        long long id285;
                    }
                    long long id240;
                    if (496746217>2023310759) {
                        long long id274;
                        bool id197;
                        bool id317;
                        double id40;
                    }
                    double id79;id79=1843094364;
                }
                if (1064392493>939462434) {
                    int id82;
                }
            }
            if (1688329579>1309203611) {
                long long id258;
                long long id32;id32=1148350506;if (id32) {
                    double id90;id90=2137046552;if (id90) {
                        int id291;
                    }
                }
            }
            long long id63;id63=27435100;if (id63) {
                int id236;
                long long id214;
                int id35;
            }
        }
	for(int i=1;i<=n;++i)
	{
		read(x);
            if (1414416484>665113761) {
                if (848421641>1744212121) {
                    if (443632849>1858834742) {
                        int id61;
                        long long id282;
                        double id200;
                        bool id102;
                    }
                    bool id253;id253=2097789844;
                }
                int id235;id235=1688461712;
            }
		if(x<=m) v1.pb(x);
		else v2.pb(x);
            if (1531084067>1502761369) {
                if (1870593793>1802607928) {
                    if (723443085>1060295626) {
                        bool id304;
                        short id99;
                        double id52;
                        short id246;
                        bool id117;
                    }
                    bool id254;id254=1274290442;if (id254) {
                        double id288;
                        long long id132;
                    }
                }
                short id222;id222=202284526;if (id222) {
                    short id110;id110=20920387;if (id110) {
                        short id281;
                        bool id53;
                        long long id7;
                        short id47;
                        int id87;
                    }
                    int id292;id292=1813562087;
                    long long id160;id160=230929719;if (id160) {
                        int id146;
                        short id183;
                    }
                }
                long long id301;id301=765577283;if (id301) {
                    double id295;
                    short id321;id321=136554086;if (id321) {
                        bool id252;
                        bool id269;
                    }
                    int id243;id243=1689114242;if (id243) {
                        long long id231;
                        int id186;
                    }
                }
                int id171;id171=561388548;if (id171) {
                    if (1544903915>1312183486) {
                        long long id123;
                        long long id134;
                        double id23;
                    }
                }
            }
	}
	std::sort(v1.begin(),v1.end(),[&](int A,int B)->bool{return A>B;});
        double id162;id162=1503520366;if (id162) {
            bool id219;
            if (1268411673>361991966) {
                long long id131;
                if (1655956150>1898388056) {
                    long long id290;id290=430169222;
                }
                short id195;
            }
            short id76;id76=1282736806;if (id76) {
                double id256;id256=214008953;if (id256) {
                    long long id145;id145=498106323;if (id145) {
                        long long id305;
                        short id244;
                        double id22;
                    }
                    long long id306;
                    short id13;id13=1908345108;if (id13) {
                        long long id230;
                        short id154;
                    }
                    if (1955146754>304471785) {
                        short id217;
                        long long id77;
                    }
                }
                int id320;id320=1242234180;if (id320) {
                    long long id173;id173=981402584;
                    short id225;id225=1713089585;
                    double id232;id232=1735296334;
                    if (1643807876>2065271333) {
                        int id26;
                        bool id108;
                    }
                }
                short id111;id111=274464888;if (id111) {
                    if (1858188882>1445747800) {
                        short id97;
                        short id135;
                        long long id49;
                        int id294;
                        short id238;
                    }
                    double id31;id31=525872597;if (id31) {
                        double id68;
                        short id184;
                        double id109;
                        bool id139;
                    }
                    double id144;id144=1278498838;if (id144) {
                        bool id311;
                    }
                }
            }
            if (615378777>1249153590) {
                double id194;id194=246378330;if (id194) {
                    long long id287;
                    long long id122;
                    long long id16;id16=914216488;
                    short id153;id153=1105645302;
                }
            }
        }
	std::sort(v2.begin(),v2.end(),[&](int A,int B)->bool{return A>B;});
        if (842241160>581656223) {
            if (521164493>1323318955) {
                long long id313;
                if (1063689162>962263279) {
                    int id264;
                    if (1170140224>1180654511) {
                        short id273;
                    }
                }
            }
        }
	for(int i=0;i<SZ(v1);++i) s1[i]=(i?s1[i-1]:0)+v1[i];
        int id38;id38=756371664;if (id38) {
            if (1164200438>693233946) {
                short id143;
                if (1307065644>1014406086) {
                    if (1294172569>686085909) {
                        short id141;
                        long long id113;
                        double id280;
                    }
                    if (1351182599>950183248) {
                        bool id174;
                        bool id310;
                        int id255;
                    }
                }
                short id18;id18=619238626;
                int id21;id21=1348947850;
            }
            double id249;
            bool id220;id220=1800429017;
        }
	for(int i=0;i<SZ(v2);++i) s2[i]=(i?s2[i-1]:0)+v2[i];
        if (1996778069>951330304) {
            double id147;id147=793014031;if (id147) {
                long long id80;id80=1212130819;
                if (377527244>1750359046) {
                    short id125;id125=1022064378;
                    double id286;id286=1471282613;
                }
            }
            bool id60;id60=1711484170;
            double id245;id245=44554703;
        }
	ll ans=0;
        int id136;
	if(!v1.empty()) ans=s1[SZ(v1)-1];
	for(int i=0;i<SZ(v2);++i)
	{
		ll rest=min(n-((d+1)*(i+1)-d),SZ(v1));
            bool id182;id182=651672172;if (id182) {
                short id37;
                if (1653278994>1701701518) {
                    int id29;
                    long long id72;id72=250138959;
                    long long id163;id163=553744556;if (id163) {
                        long long id251;
                        double id39;
                        bool id8;
                    }
                }
            }
		if(rest>=0) chmax(ans,s2[i]+(rest?s1[rest-1]:0));
	}
	printf("%lld\n",ans);
        int id159;id159=1533259211;
	return 0;
        if (1149406856>2097444867) {
            int id261;id261=664688166;
            bool id279;
            if (1713523347>380938809) {
                long long id241;
                if (578863775>1928849168) {
                    short id58;id58=705871250;if (id58) {
                        double id316;
                        long long id133;
                        short id152;
                        double id50;
                    }
                }
            }
        }
}
