

int main() {
  int n,m;
  scanf("%d%d",&n,&m);
  if ( (n == 1) && (m == 1) )
  {
    printf("0\n");
    printf(".\n");
  }
  if ( (n == 1) && (m == 2) )
  {
    printf("0\n");
    printf("..\n");
  }
  if ( (n == 1) && (m == 3) )
  {
    printf("0\n");
    printf("...\n");
  }
  if ( (n == 1) && (m == 4) )
  {
    printf("0\n");
    printf("....\n");
  }
  if ( (n == 1) && (m == 5) )
  {
    printf("0\n");
    printf(".....\n");
  }
  if ( (n == 1) && (m == 6) )
  {
    printf("0\n");
    printf("......\n");
  }
  if ( (n == 1) && (m == 7) )
  {
    printf("0\n");
    printf(".......\n");
  }
  if ( (n == 1) && (m == 8) )
  {
    printf("0\n");
    printf("........\n");
  }
  if ( (n == 1) && (m == 9) )
  {
    printf("0\n");
    printf(".........\n");
  }
  if ( (n == 2) && (m == 1) )
  {
    printf("0\n");
    printf(".\n");
    printf(".\n");
  }
  if ( (n == 2) && (m == 2) )
  {
    printf("0\n");
    printf("..\n");
    printf("..\n");
  }
  if ( (n == 2) && (m == 3) )
  {
    printf("0\n");
    printf("...\n");
    printf("...\n");
  }
  if ( (n == 2) && (m == 4) )
  {
    printf("0\n");
    printf("....\n");
    printf("....\n");
  }
  if ( (n == 2) && (m == 5) )
  {
    printf("0\n");
    printf(".....\n");
    printf(".....\n");
  }
  if ( (n == 2) && (m == 6) )
  {
    printf("0\n");
    printf("......\n");
    printf("......\n");
  }
  if ( (n == 2) && (m == 7) )
  {
    printf("0\n");
    printf(".......\n");
    printf(".......\n");
  }
  if ( (n == 2) && (m == 8) )
  {
    printf("0\n");
    printf("........\n");
    printf("........\n");
  }
  if ( (n == 2) && (m == 9) )
  {
    printf("0\n");
    printf(".........\n");
    printf(".........\n");
  }
  if ( (n == 3) && (m == 1) )
  {
    printf("0\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
  }
  if ( (n == 3) && (m == 2) )
  {
    printf("0\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
  }
  if ( (n == 3) && (m == 3) )
  {
    printf("1\n");
    printf("AAA\n");
    printf(".A.\n");
    printf(".A.\n");
  }
  if ( (n == 3) && (m == 4) )
  {
    printf("1\n");
    printf("AAA.\n");
    printf(".A..\n");
    printf(".A..\n");
  }
  if ( (n == 3) && (m == 5) )
  {
    printf("2\n");
    printf("AAAB.\n");
    printf(".A.B.\n");
    printf(".ABBB\n");
  }
  if ( (n == 3) && (m == 6) )
  {
    printf("2\n");
    printf("AAABBB\n");
    printf(".A..B.\n");
    printf(".A..B.\n");
  }
  if ( (n == 3) && (m == 7) )
  {
    printf("3\n");
    printf("AAABCCC\n");
    printf(".A.B.C.\n");
    printf(".ABBBC.\n");
  }
  if ( (n == 3) && (m == 8) )
  {
    printf("3\n");
    printf("AAABBBC.\n");
    printf(".A..B.C.\n");
    printf(".A..BCCC\n");
  }
  if ( (n == 3) && (m == 9) )
  {
    printf("4\n");
    printf("AAABCCCD.\n");
    printf(".A.B.C.D.\n");
    printf(".ABBBCDDD\n");
  }
  if ( (n == 4) && (m == 1) )
  {
    printf("0\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
  }
  if ( (n == 4) && (m == 2) )
  {
    printf("0\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
  }
  if ( (n == 4) && (m == 3) )
  {
    printf("1\n");
    printf("AAA\n");
    printf(".A.\n");
    printf(".A.\n");
    printf("...\n");
  }
  if ( (n == 4) && (m == 4) )
  {
    printf("2\n");
    printf("AAA.\n");
    printf(".AB.\n");
    printf(".AB.\n");
    printf(".BBB\n");
  }
  if ( (n == 4) && (m == 5) )
  {
    printf("2\n");
    printf("AAAB.\n");
    printf(".A.B.\n");
    printf(".ABBB\n");
    printf(".....\n");
  }
  if ( (n == 4) && (m == 6) )
  {
    printf("3\n");
    printf("AAABBB\n");
    printf(".AC.B.\n");
    printf(".AC.B.\n");
    printf(".CCC..\n");
  }
  if ( (n == 4) && (m == 7) )
  {
    printf("4\n");
    printf("AAABBB.\n");
    printf(".AC.BD.\n");
    printf(".AC.BD.\n");
    printf(".CCCDDD\n");
  }
  if ( (n == 4) && (m == 8) )
  {
    printf("4\n");
    printf("AAABBBC.\n");
    printf(".AD.B.C.\n");
    printf(".AD.BCCC\n");
    printf(".DDD....\n");
  }
  if ( (n == 4) && (m == 9) )
  {
    printf("5\n");
    printf("AAABBBCCC\n");
    printf(".AD.BE.C.\n");
    printf(".AD.BE.C.\n");
    printf(".DDDEEE..\n");
  }
  if ( (n == 5) && (m == 1) )
  {
    printf("0\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
  }
  if ( (n == 5) && (m == 2) )
  {
    printf("0\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
  }
  if ( (n == 5) && (m == 3) )
  {
    printf("2\n");
    printf("AAA\n");
    printf(".A.\n");
    printf("BA.\n");
    printf("BBB\n");
    printf("B..\n");
  }
  if ( (n == 5) && (m == 4) )
  {
    printf("2\n");
    printf("AAA.\n");
    printf(".AB.\n");
    printf(".AB.\n");
    printf(".BBB\n");
    printf("....\n");
  }
  if ( (n == 5) && (m == 5) )
  {
    printf("4\n");
    printf("AAA.B\n");
    printf(".ABBB\n");
    printf("CA.DB\n");
    printf("CCCD.\n");
    printf("C.DDD\n");
  }
  if ( (n == 5) && (m == 6) )
  {
    printf("4\n");
    printf("AAABBB\n");
    printf(".A..B.\n");
    printf("CA.DB.\n");
    printf("CCCDDD\n");
    printf("C..D..\n");
  }
  if ( (n == 5) && (m == 7) )
  {
    printf("5\n");
    printf("AAABBB.\n");
    printf(".A..BC.\n");
    printf("DA.EBC.\n");
    printf("DDDECCC\n");
    printf("D.EEE..\n");
  }
  if ( (n == 5) && (m == 8) )
  {
    printf("6\n");
    printf("AAABBB.C\n");
    printf(".A..BCCC\n");
    printf("DA.EB.FC\n");
    printf("DDDEEEF.\n");
    printf("D..E.FFF\n");
  }
  if ( (n == 5) && (m == 9) )
  {
    printf("7\n");
    printf("AAABBBC..\n");
    printf(".A..BDCCC\n");
    printf("EA.FBDCG.\n");
    printf("EEEFDDDG.\n");
    printf("E.FFF.GGG\n");
  }
  if ( (n == 6) && (m == 1) )
  {
    printf("0\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
  }
  if ( (n == 6) && (m == 2) )
  {
    printf("0\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
  }
  if ( (n == 6) && (m == 3) )
  {
    printf("2\n");
    printf("AAA\n");
    printf(".A.\n");
    printf("BA.\n");
    printf("BBB\n");
    printf("B..\n");
    printf("...\n");
  }
  if ( (n == 6) && (m == 4) )
  {
    printf("3\n");
    printf("AAA.\n");
    printf(".AB.\n");
    printf(".AB.\n");
    printf("CBBB\n");
    printf("CCC.\n");
    printf("C...\n");
  }
  if ( (n == 6) && (m == 5) )
  {
    printf("4\n");
    printf("AAAB.\n");
    printf(".A.B.\n");
    printf("CABBB\n");
    printf("CCCD.\n");
    printf("CDDD.\n");
    printf("...D.\n");
  }
  if ( (n == 6) && (m == 6) )
  {
    printf("5\n");
    printf("AAABBB\n");
    printf(".AC.B.\n");
    printf(".AC.B.\n");
    printf("DCCCE.\n");
    printf("DDD.E.\n");
    printf("D..EEE\n");
  }
  if ( (n == 6) && (m == 7) )
  {
    printf("6\n");
    printf("AAAB...\n");
    printf(".ACBBBD\n");
    printf(".ACBDDD\n");
    printf("ECCCF.D\n");
    printf("EEE.FFF\n");
    printf("E...F..\n");
  }
  if ( (n == 6) && (m == 8) )
  {
    printf("7\n");
    printf("AAABBBC.\n");
    printf(".AD.B.C.\n");
    printf(".AD.BCCC\n");
    printf("EDDDFGGG\n");
    printf("EEE.F.G.\n");
    printf("E..FFFG.\n");
  }
  if ( (n == 6) && (m == 9) )
  {
    printf("8\n");
    printf("AAABBBCCC\n");
    printf(".AD.B.EC.\n");
    printf(".AD.B.EC.\n");
    printf("FDDDGEEEH\n");
    printf("FFF.G.HHH\n");
    printf("F..GGG..H\n");
  }
  if ( (n == 7) && (m == 1) )
  {
    printf("0\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
  }
  if ( (n == 7) && (m == 2) )
  {
    printf("0\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
  }
  if ( (n == 7) && (m == 3) )
  {
    printf("3\n");
    printf("AAA\n");
    printf(".A.\n");
    printf("BA.\n");
    printf("BBB\n");
    printf("BC.\n");
    printf(".C.\n");
    printf("CCC\n");
  }
  if ( (n == 7) && (m == 4) )
  {
    printf("4\n");
    printf("AAA.\n");
    printf(".AB.\n");
    printf(".AB.\n");
    printf("CBBB\n");
    printf("CCCD\n");
    printf("CDDD\n");
    printf("...D\n");
  }
  if ( (n == 7) && (m == 5) )
  {
    printf("5\n");
    printf("AAAB.\n");
    printf(".A.B.\n");
    printf("CABBB\n");
    printf("CCCD.\n");
    printf("CE.D.\n");
    printf(".EDDD\n");
    printf("EEE..\n");
  }
  if ( (n == 7) && (m == 6) )
  {
    printf("6\n");
    printf("AAABBB\n");
    printf(".A..B.\n");
    printf("CA.DB.\n");
    printf("CCCDDD\n");
    printf("CE.DF.\n");
    printf(".EEEF.\n");
    printf(".E.FFF\n");
  }
  if ( (n == 7) && (m == 7) )
  {
    printf("8\n");
    printf("AAABCCC\n");
    printf(".A.B.C.\n");
    printf("DABBBCE\n");
    printf("DDDFEEE\n");
    printf("DG.F.HE\n");
    printf(".GFFFH.\n");
    printf("GGG.HHH\n");
  }
  if ( (n == 7) && (m == 8) )
  {
    printf("9\n");
    printf("AAA.BBB.\n");
    printf(".ACCCBD.\n");
    printf(".AEC.BD.\n");
    printf("EEECFDDD\n");
    printf("G.EHFFFI\n");
    printf("GGGHFIII\n");
    printf("G.HHH..I\n");
  }
  if ( (n == 7) && (m == 9) )
  {
    printf("10\n");
    printf("AAAB..CCC\n");
    printf(".ADBBB.C.\n");
    printf(".ADBEEECF\n");
    printf("GDDD.EFFF\n");
    printf("GGGHIE.JF\n");
    printf("GHHHIIIJ.\n");
    printf("...HI.JJJ\n");
  }
  if ( (n == 8) && (m == 1) )
  {
    printf("0\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
  }
  if ( (n == 8) && (m == 2) )
  {
    printf("0\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
  }
  if ( (n == 8) && (m == 3) )
  {
    printf("3\n");
    printf("AAA\n");
    printf(".A.\n");
    printf("BA.\n");
    printf("BBB\n");
    printf("BC.\n");
    printf(".C.\n");
    printf("CCC\n");
    printf("...\n");
  }
  if ( (n == 8) && (m == 4) )
  {
    printf("4\n");
    printf("AAA.\n");
    printf(".AB.\n");
    printf(".AB.\n");
    printf("CBBB\n");
    printf("CCCD\n");
    printf("CDDD\n");
    printf("...D\n");
    printf("....\n");
  }
  if ( (n == 8) && (m == 5) )
  {
    printf("6\n");
    printf("AAAB.\n");
    printf(".A.B.\n");
    printf("CABBB\n");
    printf("CCCD.\n");
    printf("CDDD.\n");
    printf("EEEDF\n");
    printf(".EFFF\n");
    printf(".E..F\n");
  }
  if ( (n == 8) && (m == 6) )
  {
    printf("7\n");
    printf("AAABBB\n");
    printf(".AC.B.\n");
    printf(".AC.B.\n");
    printf("DCCC.E\n");
    printf("DDDEEE\n");
    printf("DFFFGE\n");
    printf("..F.G.\n");
    printf("..FGGG\n");
  }
  if ( (n == 8) && (m == 7) )
  {
    printf("9\n");
    printf("AAAB...\n");
    printf(".ACBBBD\n");
    printf(".ACBDDD\n");
    printf("ECCCF.D\n");
    printf("EEEGFFF\n");
    printf("EH.GFI.\n");
    printf(".HGGGI.\n");
    printf("HHH.III\n");
  }
  if ( (n == 8) && (m == 8) )
  {
    printf("10\n");
    printf("AAABBBC.\n");
    printf(".A..B.C.\n");
    printf("DA..BCCC\n");
    printf("DDDEEE.F\n");
    printf("DGGGEFFF\n");
    printf(".HGIE.JF\n");
    printf(".HGIIIJ.\n");
    printf("HHHI.JJJ\n");
  }
  if ( (n == 8) && (m == 9) )
  {
    printf("12\n");
    printf("AAABBB..C\n");
    printf(".AD.BECCC\n");
    printf(".AD.BEEEC\n");
    printf("FDDDGEHHH\n");
    printf("FFFIGGGH.\n");
    printf("FJ.IGK.HL\n");
    printf(".JIIIKLLL\n");
    printf("JJJ.KKK.L\n");
  }
  if ( (n == 9) && (m == 1) )
  {
    printf("0\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
    printf(".\n");
  }
  if ( (n == 9) && (m == 2) )
  {
    printf("0\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
    printf("..\n");
  }
  if ( (n == 9) && (m == 3) )
  {
    printf("4\n");
    printf("AAA\n");
    printf(".A.\n");
    printf("BA.\n");
    printf("BBB\n");
    printf("B.C\n");
    printf("CCC\n");
    printf("D.C\n");
    printf("DDD\n");
    printf("D..\n");
  }
  if ( (n == 9) && (m == 4) )
  {
    printf("5\n");
    printf("AAA.\n");
    printf(".AB.\n");
    printf(".AB.\n");
    printf("CBBB\n");
    printf("CCCD\n");
    printf("CDDD\n");
    printf("EEED\n");
    printf(".E..\n");
    printf(".E..\n");
  }
  if ( (n == 9) && (m == 5) )
  {
    printf("7\n");
    printf("AAAB.\n");
    printf(".A.B.\n");
    printf("CABBB\n");
    printf("CCC.D\n");
    printf("CEDDD\n");
    printf(".EEED\n");
    printf("FEGGG\n");
    printf("FFFG.\n");
    printf("F..G.\n");
  }
  if ( (n == 9) && (m == 6) )
  {
    printf("8\n");
    printf("AAABBB\n");
    printf(".AC.B.\n");
    printf(".AC.B.\n");
    printf("DCCCE.\n");
    printf("DDD.E.\n");
    printf("D.FEEE\n");
    printf(".GFFFH\n");
    printf(".GFHHH\n");
    printf("GGG..H\n");
  }
  if ( (n == 9) && (m == 7) )
  {
    printf("10\n");
    printf("AAABBB.\n");
    printf(".A..BC.\n");
    printf("DA.EBC.\n");
    printf("DDDECCC\n");
    printf("DFEEE.G\n");
    printf(".FFFGGG\n");
    printf("HFIIIJG\n");
    printf("HHHI.J.\n");
    printf("H..IJJJ\n");
  }
  if ( (n == 9) && (m == 8) )
  {
    printf("12\n");
    printf("A..FFF.J\n");
    printf("AAADFJJJ\n");
    printf("ADDDF.IJ\n");
    printf("B..DIII.\n");
    printf("BBBGGGIK\n");
    printf("BEEEGKKK\n");
    printf(".CEHG.LK\n");
    printf(".CEHHHL.\n");
    printf("CCCH.LLL\n");
  }
  if ( (n == 9) && (m == 9) )
  {
    printf("13\n");
    printf("AAABBBCCC\n");
    printf(".AD.BE.C.\n");
    printf(".AD.BE.C.\n");
    printf("FDDDEEE.G\n");
    printf("FFFHHHGGG\n");
    printf("FIIIHJJJG\n");
    printf(".KILH.JM.\n");
    printf(".KILLLJM.\n");
    printf("KKKL..MMM\n");
  }
  return 0;
}