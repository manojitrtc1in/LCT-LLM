







































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































using namespace std;
set<int> alphas[27];
string s, temp;
int length = 0, q, ope, l, r;
char le;

int main() {
	ios::sync_with_stdio(false);
	cin.tie(0); cout.tie(0);
	cin >> s;
	length = s.length();
	for (int i = 0; i < 26; i++)alphas[i].insert(23333333);
	for (int i = 0; i < length; i++) {
		alphas[s[i] - 'a'].insert(i);
	}
	cin >> q;
	while (q--) {
		cin >> ope;
		if (ope == 1) {
			cin >> l >> le; l--;alphas[s[l] - 'a'].erase(l);
			s[l] = le;
			alphas[s[l] - 'a'].insert(l);
			

		}
			else {
			cin >> l >> r;
			l--, r--;
			int ans = 0;
			for (int i = 0; i < 26; i++) {
				auto  it = alphas[i].lower_bound(l);
				if (it!= alphas[i].end()
					&&*it <= r ) ans++;
			}
			cout << ans << endl;
		}
	}
	return 0;
}