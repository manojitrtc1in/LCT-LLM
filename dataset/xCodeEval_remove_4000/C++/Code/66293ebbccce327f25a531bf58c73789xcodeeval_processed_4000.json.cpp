



using namespace std;
typedef unsigned long long ull;
typedef long long ll;
typedef pair<int,int> pii;
typedef pair<ll,ll> pll;
typedef pair<int,char> pic;






const double esp = 1e-9;
const int inf = 0x3f3f3f3f;
const ll INF = 0x3f3f3f3f3f3f3f;
const int mod = 1e9+7;
const int maxn = 2e6 + 21;

char a[105][105];
struct Node
{
	int x1,y1,x2,y2,x3,y3;
	Node(int xx1,int yy1,int xx2,int yy2,int xx3,int yy3):x1(xx1),y1(yy1),x2(xx2),y2(yy2),x3(xx3),y3(yy3){};
};
std::vector<Node> vv;
std::vector<pii> vp[2];
int main()
{
	for(int i=1;i<1;i++){
		int aaa = 1;
	}
	for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}
	int T;
	scanf("%d",&T);

	while(T -- )
	{
		vv.clear();
		int n, m;
		for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}
		scanf("%d%d",&n,&m);
		for(int i =1 ;i <= n; i ++ )
			scanf("%s",a[i] + 1);
		for(int i = 1; i <= n - 2; i ++ )
		{
			for (int j = 1; j < m; j ++ )
			{
				if(a[i][j] == '1')
				{
					a[i][j] ^= 1;
					a[i+1][j] ^= 1;
					a[i+1][j+1] ^= 1;
					vv.pb(Node(i,j,i + 1,j,i + 1,j + 1));
				}
			}
			if(a[i][m] == '1')
			{
				vv.pb(Node(i,m,i+1,m,i+1,m - 1));
				a[i][m]^=1;
				a[i+1][m]^=1;
				a[i + 1][m - 1] ^= 1;
			}
		}
		for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}
		if(m % 2)
		{
			if(a[n][m] == '1')
			{
				vv.pb(Node(n,m,n,m - 1,n-1,m - 1));
				a[n][m]^=1;
				a[n][m - 1]^=1;
				a[n - 1][m - 1] ^= 1;
			}
			if(a[n - 1][m] == '1')
			{
				vv.pb(Node(n - 1,m,n,m - 1,n-1,m - 1));
				a[n - 1][m]^=1;
				a[n][m - 1]^=1;
				a[n - 1][m - 1] ^= 1;
			}
		}
		for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}
		for (int  j= 1; j < m; j += 2)
		{
			vp[0].clear();
			vp[1].clear();
			 

			vp[a[n][j] - '0'].pb(mkp(n,j));
			vp[a[n - 1][j] - '0'].pb(mkp(n - 1,j));
			vp[a[n - 1][j + 1] - '0'].pb(mkp(n - 1,j + 1));
			vp[a[n][j + 1] - '0'].pb(mkp(n,j + 1));
			a[n][j] = a[n - 1][j] = a[n - 1][j + 1] = a[n][j + 1] = '0';
			if(vp[0].size() == 0)
			{
				for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}
				vv.pb(Node(vp[1][0].st,vp[1][0].sd,vp[1][1].st,vp[1][1].sd,vp[1][2].st,vp[1][2].sd));
				vv.pb(Node(vp[1][0].st,vp[1][0].sd,vp[1][1].st,vp[1][1].sd,vp[1][3].st,vp[1][3].sd));
				vv.pb(Node(vp[1][0].st,vp[1][0].sd,vp[1][2].st,vp[1][2].sd,vp[1][3].st,vp[1][3].sd));
				vv.pb(Node(vp[1][1].st,vp[1][1].sd,vp[1][2].st,vp[1][2].sd,vp[1][3].st,vp[1][3].sd));
			}
			else if(vp[0].size() == 1)
			{
				vv.pb(Node(vp[1][0].st,vp[1][0].sd,vp[1][1].st,vp[1][1].sd,vp[1][2].st,vp[1][2].sd));
			}
			else if(vp[0].size() == 2)
			{
				vv.pb(Node(vp[0][0].st,vp[0][0].sd,vp[0][1].st,vp[0][1].sd,vp[1][0].st,vp[1][0].sd));
				vv.pb(Node(vp[0][0].st,vp[0][0].sd,vp[0][1].st,vp[0][1].sd,vp[1][1].st,vp[1][1].sd));
			}
			else if(vp[0].size() == 3)
			{
				vv.pb(Node(vp[0][0].st,vp[0][0].sd,vp[0][1].st,vp[0][1].sd,vp[1][0].st,vp[1][0].sd));
				vv.pb(Node(vp[0][0].st,vp[0][0].sd,vp[0][2].st,vp[0][2].sd,vp[1][0].st,vp[1][0].sd));
				vv.pb(Node(vp[0][1].st,vp[0][1].sd,vp[0][2].st,vp[0][2].sd,vp[1][0].st,vp[1][0].sd));
			}
		}
		for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}for(int i=1;i<1;i++){
		int aaa = 1;
	}
		printf("%d\n",vv.size());
		for (int  i= 0; i < vv.size(); i ++ )
		{
			printf("%d %d %d %d %d %d\n",vv[i].x1,vv[i].y1,vv[i].x2,vv[i].y2,vv[i].x3,vv[i].y3);
		}
	}

}
