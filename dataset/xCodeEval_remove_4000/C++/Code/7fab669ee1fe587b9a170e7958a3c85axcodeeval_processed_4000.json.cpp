
using namespace std;
bool cmp(string a, string b)
{
    if(b == "")
    {
        return true;
    }
    if(a == "")
    {
        return false;
    }
    if(a.size() < b.size())
    {
        return true;
    }
    if(a.size() > b.size())
    {
        return 0;
    }
    return a < b;
}
signed main()
{
    ios_base::sync_with_stdio(false);
    cin.tie(NULL);
    cout.tie(NULL);
 

    int t;
    cin >> t;
     
    vector <string> dp = {"!x&x|!x&x", "!x&x",
"!(x|y|z)|!x&x", "!(x|y|z)",
"!x&!y&z|!x&x", "!x&!y&z",
"!x&!y|!x&x", "!x&!y",
"!x&!z&y|!x&x", "!x&!z&y",
"!x&!z|!x&x", "!x&!z",
"!x&!y&z|!x&!z&y", "!(!y&!z|x|y&z)",
"!x&!y|!x&!z", "!(x|y&z)",
"!x&x|!x&y&z", "!x&y&z",
"!(x|y|z)|!x&y&z", "!(!y&z|!z&y|x)",
"!x&x|!x&z", "!x&z",
"!x&!y|!x&z", "!(!z&y|x)",
"!x&x|!x&y", "!x&y",
"!x&!z|!x&y", "!(!y&z|x)",
"!x&y|!x&z", "!x&(y|z)",
"!x|!x", "!x",
"!x&x|!y&!z&x", "!y&!z&x",
"!x&x|!y&!z", "!y&!z",
"!x&!y&z|!y&!z&x", "!(!x&!z|x&z|y)",
"!x&!y|!y&!z", "!(x&z|y)",
"!x&!z&y|!y&!z&x", "!(!x&!y|x&y|z)",
"!x&!z|!y&!z", "!(x&y|z)",
"!(!x&!y|x&y|z)|!x&!y&z", "!((x|y)&z|x&y)&(x|y|z)",
"!(x&y|z)|!x&!y", "!((x|y)&z|x&y)",
"!x&y&z|!y&!z&x", "(!x&y&z|!y&!z&x)",
"!x&y&z|!y&!z", "(!x&y&z|!y&!z)",
"!x&z|!y&!z&x", "(!x&z|!y&!z&x)",
"!x&z|!y&!z", "!(!z&y|x&z)",
"!x&y|!y&!z&x", "(!x&y|!y&!z&x)",
"!x&y|!y&!z", "!(!y&z|x&y)",
"!x&(y|z)|!y&!z&x", "!((y|z)&x)&(x|y|z)",
"!x|!y&!z", "!((y|z)&x)",
"!x&x|!y&x&z", "!y&x&z",
"!(x|y|z)|!y&x&z", "!(!x&z|!z&x|y)",
"!x&x|!y&z", "!y&z",
"!x&!y|!y&z", "!(!z&x|y)",
"!x&!z&y|!y&x&z", "(!x&!z&y|!y&x&z)",
"!x&!z|!y&x&z", "(!x&!z|!y&x&z)",
"!x&!z&y|!y&z", "(!x&!z&y|!y&z)",
"!x&!z|!y&z", "!(!z&x|y&z)",
"!x&y&z|!y&x&z", "(!x&y|!y&x)&z",
"!(!x&z|!z&x|y)|!x&y&z", "!(!x&!y&z|!z&(x|y)|x&y)",
"!x&z|!y&z", "!(x&y)&z",
"!(!z&x|y)|!x&z", "!(!z&(x|y)|x&y)",
"!x&y|!y&x&z", "(!x&y|!y&x&z)",
"!(!y&z|x)|!y&x&z", "(!(!y&z|x)|!y&x&z)",
"!x&y|!y&z", "(!x&y|!y&z)",
"!x|!y&z", "(!x|!y&z)",
"!x&x|!y&x", "!y&x",
"!y&!z|!y&x", "!(!x&z|y)",
"!y&x|!y&z", "!y&(x|z)",
"!y|!y", "!y",
"!x&!z&y|!y&x", "(!x&!z&y|!y&x)",
"!x&!z|!y&x", "!(!x&z|x&y)",
"!x&!z&y|!y&(x|z)", "!((x|z)&y)&(x|y|z)",
"!x&!z|!y", "!((x|z)&y)",
"!x&y&z|!y&x", "(!x&y&z|!y&x)",
"!(!x&z|y)|!x&y&z", "(!(!x&z|y)|!x&y&z)",
"!x&z|!y&x", "(!x&z|!y&x)",
"!x&z|!y", "(!x&z|!y)",
"!x&y|!y&x", "(!x&y|!y&x)",
"!(!x&z|y)|!x&y", "!(!x&!y&z|x&y)",
"!x&(y|z)|!y&x", "!(x&y)&(x|y|z)",
"!x|!y", "!(x&y)",
"!x&x|!z&x&y", "!z&x&y",
"!(x|y|z)|!z&x&y", "!(!x&y|!y&x|z)",
"!x&!y&z|!z&x&y", "(!x&!y&z|!z&x&y)",
"!x&!y|!z&x&y", "(!x&!y|!z&x&y)",
"!x&x|!z&y", "!z&y",
"!x&!z|!z&y", "!(!y&x|z)",
"!x&!y&z|!z&y", "(!x&!y&z|!z&y)",
"!x&!y|!z&y", "!(!y&x|y&z)",
"!x&y&z|!z&x&y", "(!x&z|!z&x)&y",
"!(!x&y|!y&x|z)|!x&y&z", "!(!x&!z&y|!y&(x|z)|x&z)",
"!x&z|!z&x&y", "(!x&z|!z&x&y)",
"!(!z&y|x)|!z&x&y", "(!(!z&y|x)|!z&x&y)",
"!x&y|!z&y", "!(x&z)&y",
"!(!y&x|z)|!x&y", "!(!y&(x|z)|x&z)",
"!x&z|!z&y", "(!x&z|!z&y)",
"!x|!z&y", "(!x|!z&y)",
"!x&x|!z&x", "!z&x",
"!y&!z|!z&x", "!(!x&y|z)",
"!x&!y&z|!z&x", "(!x&!y&z|!z&x)",
"!x&!y|!z&x", "!(!x&y|x&z)",
"!z&x|!z&y", "!z&(x|y)",
"!z|!z", "!z",
"!x&!y&z|!z&(x|y)", "!((x|y)&z)&(x|y|z)",
"!x&!y|!z", "!((x|y)&z)",
"!x&y&z|!z&x", "(!x&y&z|!z&x)",
"!(!x&y|z)|!x&y&z", "(!(!x&y|z)|!x&y&z)",
"!x&z|!z&x", "(!x&z|!z&x)",
"!(!x&y|z)|!x&z", "!(!x&!z&y|x&z)",
"!x&y|!z&x", "(!x&y|!z&x)",
"!x&y|!z", "(!x&y|!z)",
"!x&(y|z)|!z&x", "!(x&z)&(x|y|z)",
"!x|!z", "!(x&z)",
"!y&x&z|!z&x&y", "(!y&z|!z&y)&x",
"!(!x&y|!y&x|z)|!y&x&z", "!(!x&(y|z)|!y&!z&x|y&z)",
"!y&z|!z&x&y", "(!y&z|!z&x&y)",
"!(!z&x|y)|!z&x&y", "(!(!z&x|y)|!z&x&y)",
"!y&x&z|!z&y", "(!y&x&z|!z&y)",
"!(!y&x|z)|!y&x&z", "(!(!y&x|z)|!y&x&z)",
"!y&z|!z&y", "(!y&z|!z&y)",
"!(!y&x|z)|!y&z", "!(!y&!z&x|y&z)",
"!x&y&z|!y&x&z|!z&x&y", "!(!x&!y|x&y&z)&(x&y|z)",
"!(!x&y|!y&x|z)|!x&y&z|!y&x&z", "(!x&!y|x&y|z)&(!x&y|!y&x|!z)",
"!(x&y)&z|!z&x&y", "!(x&y&z)&(x&y|z)",
"!(!z&x|y)|!x&z|!z&x&y", "!(x&y&z)&(!x&!y|x&y|z)",
"!(x&z)&y|!y&x&z", "!(x&y&z)&(x&z|y)",
"!(!y&x|z)|!x&y|!y&x&z", "!(x&y&z)&(!x&!z|x&z|y)",
"!(x&y)&z|!z&y", "!(!y&!z|x&y&z)",
"!x|!y&z|!z&y", "(!x|!y&z|!z&y)",
"!y&x|!z&x", "!(y&z)&x",
"!(!x&y|z)|!y&x", "!(!x&(y|z)|y&z)",
"!y&z|!z&x", "(!y&z|!z&x)",
"!y|!z&x", "(!y|!z&x)",
"!y&x|!z&y", "(!y&x|!z&y)",
"!y&x|!z", "(!y&x|!z)",
"!y&(x|z)|!z&y", "!(y&z)&(x|y|z)",
"!y|!z", "!(y&z)",
"!(y&z)&x|!x&y&z", "!(x&y&z)&(x|y&z)",
"!(!x&y|z)|!x&y&z|!y&x", "!(x&y&z)&(!y&!z|x|y&z)",
"!(x&y)&z|!z&x", "!(!x&!z|x&y&z)",
"!x&z|!y|!z&x", "(!x&z|!y|!z&x)",
"!(x&z)&y|!y&x", "!(!x&!y|x&y&z)",
"!x&y|!y&x|!z", "(!x&y|!y&x|!z)",
"!x&y|!y&z|!z&x", "!(x&y&z)&(x|y|z)",
"!x|!y|!z", "!(x&y&z)",
"!x&x|x&y&z", "x&y&z",
"!(x|y|z)|x&y&z", "(!(x|y|z)|x&y&z)",
"!x&!y&z|x&y&z", "(!x&!y|x&y)&z",
"!x&!y|x&y&z", "(!x&!y|x&y&z)",
"!x&!z&y|x&y&z", "(!x&!z|x&z)&y",
"!x&!z|x&y&z", "(!x&!z|x&y&z)",
"!(!y&!z|x|y&z)|x&y&z", "(!(!y&!z|x|y&z)|x&y&z)",
"!(x|y&z)|x&y&z", "(!(x|y&z)|x&y&z)",
"y&z|y&z", "y&z",
"!(x|y|z)|y&z", "(!(x|y|z)|y&z)",
"!x&z|y&z", "(!x|y)&z",
"!x&!y|y&z", "(!x&!y|y&z)",
"!x&y|y&z", "(!x|z)&y",
"!x&!z|y&z", "(!x&!z|y&z)",
"!x&(y|z)|y&z", "(!x&(y|z)|y&z)",
"!x|y&z", "(!x|y&z)",
"!y&!z&x|x&y&z", "(!y&!z|y&z)&x",
"!y&!z|x&y&z", "(!y&!z|x&y&z)",
"!(!x&!z|x&z|y)|x&y&z", "(!(!x&!z|x&z|y)|x&y&z)",
"!(x&z|y)|x&y&z", "(!(x&z|y)|x&y&z)",
"!(!x&!y|x&y|z)|x&y&z", "(!(!x&!y|x&y|z)|x&y&z)",
"!(x&y|z)|x&y&z", "(!(x&y|z)|x&y&z)",
"!(!x&!y|x&y|z)|!x&!y&z|x&y&z", "(!x&!y|!z|x&y)&(!x&y|!y&x|z)",
"!((x|y)&z|x&y)|x&y&z", "(!((x|y)&z|x&y)|x&y&z)",
"!y&!z&x|y&z", "(!y&!z&x|y&z)",
"!y&!z|y&z", "(!y&!z|y&z)",
"!x&z|!y&!z&x|y&z", "!(!y&x&z)&(!y&x|z)",
"!(x&z|y)|y&z", "!(!y&x&z|!z&y)",
"!x&y|!y&!z&x|y&z", "!(!z&x&y)&(!z&x|y)",
"!(x&y|z)|y&z", "!(!y&z|!z&x&y)",
"!x&(y|z)|!y&!z&x|y&z", "(!x&(y|z)|!y&!z&x|y&z)",
"!x|!y&!z|y&z", "(!x|!y&!z|y&z)",
"x&z|x&z", "x&z",
"!(x|y|z)|x&z", "(!(x|y|z)|x&z)",
"!y&z|x&z", "(!y|x)&z",
"!x&!y|x&z", "(!x&!y|x&z)",
"!x&!z&y|x&z", "(!x&!z&y|x&z)",
"!x&!z|x&z", "(!x&!z|x&z)",
"!x&!z&y|!y&z|x&z", "!(!x&y&z)&(!x&y|z)",
"!(x|y&z)|x&z", "!(!x&y&z|!z&x)",
"x&z|y&z", "(x|y)&z",
"!(x|y|z)|(x|y)&z", "(!(x|y|z)|(x|y)&z)",
"z|z", "z",
"!x&!y|z", "(!x&!y|z)",
"!x&y|x&z", "(!x&y|x&z)",
"!(!y&z|x)|x&z", "!(!x&!y&z|!z&x)",
"!x&y|z", "(!x&y|z)",
"!x|z", "(!x|z)",
"!y&x|x&z", "(!y|z)&x",
"!y&!z|x&z", "(!y&!z|x&z)",
"!y&(x|z)|x&z", "(!y&(x|z)|x&z)",
"!y|x&z", "(!y|x&z)",
"!x&!z&y|!y&x|x&z", "!(!z&x&y)&(!z&y|x)",
"!(x&y|z)|x&z", "!(!x&z|!z&x&y)",
"!x&!z&y|!y&(x|z)|x&z", "(!x&!z&y|!y&(x|z)|x&z)",
"!x&!z|!y|x&z", "(!x&!z|!y|x&z)",
"!y&x|y&z", "(!y&x|y&z)",
"!(!x&z|y)|y&z", "!(!x&!y&z|!z&y)",
"!y&x|z", "(!y&x|z)",
"!y|z", "(!y|z)",
"!x&y|!y&x|x&z", "!(!x&!y|!z&x&y)",
"!x&!z|!y&x|y&z", "(!x&!z|!y&x|y&z)",
"!x&y|!y&x|z", "(!x&y|!y&x|z)",
"!x|!y|z", "!(!z&x&y)",
"x&y|x&y", "x&y",
"!(x|y|z)|x&y", "(!(x|y|z)|x&y)",
"!x&!y&z|x&y", "(!x&!y&z|x&y)",
"!x&!y|x&y", "(!x&!y|x&y)",
"!z&y|x&y", "(!z|x)&y",
"!x&!z|x&y", "(!x&!z|x&y)",
"!x&!y&z|!z&y|x&y", "!(!x&y&z)&(!x&z|y)",
"!(x|y&z)|x&y", "!(!x&y&z|!y&x)",
"x&y|y&z", "(x|z)&y",
"!(x|y|z)|(x|z)&y", "(!(x|y|z)|(x|z)&y)",
"!x&z|x&y", "(!x&z|x&y)",
"!(!z&y|x)|x&y", "!(!x&!z&y|!y&x)",
"y|y", "y",
"!x&!z|y", "(!x&!z|y)",
"!x&z|y", "(!x&z|y)",
"!x|y", "(!x|y)",
"!z&x|x&y", "(!z|y)&x",
"!y&!z|x&y", "(!y&!z|x&y)",
"!x&!y&z|!z&x|x&y", "!(!y&x&z)&(!y&z|x)",
"!(x&z|y)|x&y", "!(!x&y|!y&x&z)",
"!z&(x|y)|x&y", "(!z&(x|y)|x&y)",
"!z|x&y", "(!z|x&y)",
"!x&!y&z|!z&(x|y)|x&y", "(!x&!y&z|!z&(x|y)|x&y)",
"!x&!y|!z|x&y", "(!x&!y|!z|x&y)",
"!z&x|y&z", "(!z&x|y&z)",
"!(!x&y|z)|y&z", "!(!x&!z&y|!y&z)",
"!x&z|!z&x|x&y", "!(!x&!z|!y&x&z)",
"!x&!y|!z&x|y&z", "(!x&!y|!z&x|y&z)",
"!z&x|y", "(!z&x|y)",
"!z|y", "(!z|y)",
"!x&z|!z&x|y", "(!x&z|!z&x|y)",
"!x|!z|y", "!(!y&x&z)",
"x&y|x&z", "(y|z)&x",
"!(x|y|z)|(y|z)&x", "(!(x|y|z)|(y|z)&x)",
"!y&z|x&y", "(!y&z|x&y)",
"!(!z&x|y)|x&y", "!(!x&y|!y&!z&x)",
"!z&y|x&z", "(!z&y|x&z)",
"!(!y&x|z)|x&z", "!(!x&z|!y&!z&x)",
"!y&z|!z&y|x&y", "!(!x&y&z)&(y|z)",
"!x&!y|!z&y|x&z", "(!x&!y|!z&y|x&z)",
"(x|y)&z|x&y", "((x|y)&z|x&y)",
"!(x|y|z)|(x|y)&z|x&y", "(!(x|y|z)|(x|y)&z|x&y)",
"x&y|z", "(x&y|z)",
"!x&!y|x&y|z", "(!x&!y|x&y|z)",
"x&z|y", "(x&z|y)",
"!x&!z|x&z|y", "(!x&!z|x&z|y)",
"y|z", "(y|z)",
"!x|y|z", "(!x|y|z)",
"x|x", "x",
"!y&!z|x", "(!y&!z|x)",
"!y&z|x", "(!y&z|x)",
"!y|x", "(!y|x)",
"!z&y|x", "(!z&y|x)",
"!z|x", "(!z|x)",
"!y&z|!z&y|x", "(!y&z|!z&y|x)",
"!y|!z|x", "!(!x&y&z)",
"x|y&z", "(x|y&z)",
"!y&!z|x|y&z", "(!y&!z|x|y&z)",
"x|z", "(x|z)",
"!y|x|z", "(!y|x|z)",
"x|y", "(x|y)",
"!z|x|y", "(!z|x|y)",
"x|y|z", "(x|y|z)",
"!x|x", "(!x|x)"};
   while(t--)
    {
        string s;
        cin >> s;
        int mask_st = 0;
        int it = 0;
        for(int i = 0; i < 8; i++)
        {
            if(s[i] == '1')
            {
                mask_st += (1 << i);
            }
        }
        int ind1 = mask_st * 2;
        int ind2 = mask_st * 2 + 1;
        if(cmp(dp[ind1], dp[ind2]))
        {
            cout << dp[ind1] << "\n";
        }
        else{
            cout << dp[ind2] << "\n";
        }
    }
    return 0;
}
