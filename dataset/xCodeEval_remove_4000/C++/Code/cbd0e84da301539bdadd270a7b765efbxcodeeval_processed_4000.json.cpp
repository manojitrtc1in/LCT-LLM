



using namespace std;
const long double PI = 3.1415926535897932384626;
typedef long long ll;
typedef vector<ll> vli;
typedef pair<ll, ll> pii;








void fuck()
{
    ios_base::sync_with_stdio(false);
    cin.tie(nullptr);
    cout.tie(nullptr);
}











bool collinear(int x1, int y1, int x2, int y2, int x3, int y3)
{
    return (y1 - y2) * (x1 - x3) != (y1 - y3) * (x1 - x2);
}
bool isInt(double num)
{
    return (num == (int)num);
}

























































































































































































































































































































































































































































































































double id0(ll x1, ll y1, ll x2, ll y2)
{
    return sqrt(abs(x1 - x2) * abs(x1 - x2) * 1.000 + abs(y1 - y2) * abs(y1 - y2) * 1.000);
}

ll binpow(ll a, ll b)
{
    ll res = 1;
    while (b > 0)
    {
        if (b & 1)
            res = res * a;
        a = a * a;
        b >>= 1;
    }
    return res;
}










































































































































































































































































































































































string convert_binary(ll n)
{
    string str = "";
    while (n)
    {
        if (n & 1)
        {
            str.push_back('1');
        }
        else
        {
            str.push_back('0');
        }
        n = n / 2;
    }
    reverse(str.begin(), str.end());
    return str;
}































































































































































































































































































































































































































































































































































































































































int n;
bool check(bool visi[])
{
    for (int i = 0; i < n; i++)
    {
        if (!visi[i])
        {
            return false;
        }
    }
    return true;
}
int  p[100005], M[100005], maxid;
void solve()
{
    scanf("%d", &n);
    for (int i = 1; i <= n; i++)
        scanf("%d", &p[i]);

    maxid = 1;
    for (int i = 1; i <= n; i++)
        M[i] = p[i] >= p[maxid] ? (maxid = i) : maxid;

    for (int i = n; i; i--)
    {
        for (int j = M[i]; j <= i; j++)
            printf("%d ", p[j]);
        i = M[i];
    }

    puts("");
}
int main()
{
    

    

    

    ll t;
    cin >> t;
    

    

    for (int i = 1; i <= t; i++)
    {
        

        solve();
    }

    return 0;
}



