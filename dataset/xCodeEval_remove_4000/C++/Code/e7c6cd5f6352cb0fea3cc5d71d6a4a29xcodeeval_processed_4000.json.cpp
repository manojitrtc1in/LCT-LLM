



using namespace std;
using namespace __gnu_pbds;



using ll = long long; using ld = long double;
using ii = pair<int, int>; using iii = tuple<int, int, int>;
using vb = vector<bool>; using vc = vector<char>; using vi = vector<int>; using vl = vector<long>;
using vii = vector<ii>; using vll = vector<ll>;
using vvb = vector<vector<bool>>; using vvc = vector<vector<char>>; using vvi = vector<vector<int>>; using vvl= vector<vector<long>>;
using Al = unordered_map<int, vi>; using AL = unordered_map<int, vi>;
using ordered_set = tree<int,null_type,less<>,rb_tree_tag,tree_order_statistics_node_update>;
using ordered_set_ii = tree<ii,null_type,less<>,rb_tree_tag,tree_order_statistics_node_update>;
using ordered_multiset =  tree<int,null_type,less_equal<>,rb_tree_tag,tree_order_statistics_node_update>; 




struct pair_hash {
    inline size_t operator()(const pair<int,int> & v) const {
        return v.first*31+v.second;
    }
};






















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































ll sq(ll a) {
	return a * a;
}

int main() {
    ios::sync_with_stdio(false);
    cin.tie(NULL); cout.tie(NULL);

	int tc;
	cin >> tc;
	while (tc--) {
		int n;
		cin >> n;
		vi a(n), b(n);
		for (int i=0;i<n;i++) cin >> a[i];
		for (int i=0;i<n;i++) cin >> b[i];
		
		ll sqSum = 0;
		ll minSum = 0;
		ll maxSum = 0;
		
		for (int i=0;i<n;i++) {
			if (b[i] < a[i]) {
				swap(a[i], b[i]);
			}
			sqSum += sq(a[i]) + sq(b[i]);
			minSum += a[i];
			maxSum += b[i];
		}
		
		bitset<100 * 100 + 10> dp;
		dp[0] = 1;
		for (int i = 0; i < n; i++)
			dp |= dp << (b[i] - a[i]);
		
		ll ans = 1000000000ll;
		for (int i=0;i<=maxSum - minSum;i++) {
			if (dp[i]) {
				ans = min(ans, sq(minSum + i) + sq(maxSum - i));
			}
		}
		
		cout << (n - 2) * sqSum + ans << endl;
	}
}
