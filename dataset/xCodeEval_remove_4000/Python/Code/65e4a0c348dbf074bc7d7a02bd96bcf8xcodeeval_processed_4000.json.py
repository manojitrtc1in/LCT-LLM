from collections import defaultdict
from re import A
from tkinter import N




















        































            





































































    































































































        















 








    







































  





















      











  



  
  
  

  

  

  









     













































            
            























      
      


































             










    
     





        










        











































































































































        
        

















    
            




























































	






		





		





			



























        


































































    
































        



        




























        
        




























































      











































def f(l):
    l = sorted(list(l))
    n = len(l)
    ans = 0
    for i in range(n):
        ans+=l[i]*(2*i-n+1)    
    return ans
n,m = list(map(int, input().split(' ')))
l = []
d=defaultdict(list)
for i in range(n):
    ll = list(map(int, input().split(' ')))
    for j in range(m):
        if ll[j] in d:
            l[d[ll[j]]].append([i,j])
        else:
            d[ll[j]]=len(l)
            l.append([[i,j]])
ans=0
for i in range(len(l)):
    xx,yy = zip(*l[i])
    ans += f(xx)+f(yy)
print(ans)
        

            
            
            
    
    


    

